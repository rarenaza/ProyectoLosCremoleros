/* dhtmlx */
window.dhtmlx||(dhtmlx={}),dhtmlx.assert=function(t,e){t||dhtmlx.error(e)},dhtmlx.assert_enabled=function(){return!1},dhtmlx.assert_event=function(t,e){t._event_check||(t._event_check={},t._event_check_size={});for(var i in e){t._event_check[i.toLowerCase()]=e[i];var s=-1;for(var n in e[i])s++;t._event_check_size[i.toLowerCase()]=s}},dhtmlx.assert_method_info=function(t,e,i,s){for(var n=[],a=0;a<s.length;a++)n.push(s[a][0]+" : "+s[a][1]+"\n   "+s[a][2].describe()+(s[a][3]?"; optional":""));return t.name+"."+e+"\n"+i+"\n Arguments:\n - "+n.join("\n - ")},dhtmlx.assert_method=function(t,e){for(var i in e)dhtmlx.assert_method_process(t,i,e[i].descr,e[i].args,e[i].min||99,e[i].skip)},dhtmlx.assert_method_process=function(t,e,i,s,n,a){var r=t[e];a||(t[e]=function(){if(arguments.length!=s.length&&arguments.length<n)dhtmlx.log("warn","Incorrect count of parameters\n"+t[e].describe()+"\n\nExpecting "+s.length+" but have only "+arguments.length);else for(var i=0;i<s.length;i++)s[i][3]||s[i][2](arguments[i])||dhtmlx.log("warn","Incorrect method call\n"+t[e].describe()+"\n\nActual value of "+(i+1)+" parameter: {"+typeof arguments[i]+"} "+arguments[i]);return r.apply(this,arguments)}),t[e].describe=function(){return dhtmlx.assert_method_info(t,e,i,s)}},dhtmlx.assert_event_call=function(t,e,i){t._event_check&&(t._event_check[e]?dhtmlx.isNotDefined(i)?dhtmlx.log("warn","Event without parameters :"+e):t._event_check_size[e]!=i.length&&dhtmlx.log("warn","Incorrect event call, expected "+t._event_check_size[e]+" parameter(s), but have "+i.length+" parameter(s), for "+e+" event"):dhtmlx.log("warn","Not expected event call :"+e))},dhtmlx.assert_event_attach=function(t,e){t._event_check&&!t._event_check[e]&&dhtmlx.log("warn","Unknown event name: "+e)},dhtmlx.assert_property=function(t,e){t._settings_check||(t._settings_check={}),dhtmlx.extend(t._settings_check,e)},dhtmlx.assert_check=function(t,e){if("object"==typeof t)for(var i in t)dhtmlx.assert_settings(i,t[i],e)},dhtmlx.assert_settings=function(t,e,i){if(i=i||this._settings_check){if(!i[t])return dhtmlx.log("warn","Unknown propery: "+t);for(var s=!1,n=0;n<i[t].length;n++){var a=i[t][n];if("string"!=typeof a&&("function"==typeof a?s=s||a(e):"object"==typeof a&&"function"==typeof a[1]&&(s=s||a[1](e),s&&a[2]&&dhtmlx.assert_check(e,a[2])),s))break}s||dhtmlx.log("warn","Invalid configuration\n"+dhtmlx.assert_info(t,i)+"\nActual value: {"+typeof e+"} "+e)}},dhtmlx.assert_info=function(t,e){for(var i=e[t],s="",n=[],a=0;a<i.length;a++)"string"==typeof rule?s=i[a]:i[a].describe?n.push(i[a].describe()):i[a][1]&&i[a][1].describe&&n.push(i[a][1].describe());return"Property: "+t+", "+s+" \nExpected value: \n - "+n.join("\n - ")},dhtmlx.assert_enabled()&&(dhtmlx.assert_rule_color=function(t){return"string"!=typeof t?!1:0!==t.indexOf("#")?!1:""!==t.substr(1).replace(/[0-9A-F]/gi,"")?!1:!0},dhtmlx.assert_rule_color.describe=function(){return"{String} Value must start from # and contain hexadecimal code of color"},dhtmlx.assert_rule_template=function(t){return"function"==typeof t?!0:"string"==typeof t?!0:!1},dhtmlx.assert_rule_template.describe=function(){return"{Function},{String} Value must be a function which accepts data object and return text string, or a sting with optional template markers"},dhtmlx.assert_rule_boolean=function(t){return"boolean"==typeof t?!0:!1},dhtmlx.assert_rule_boolean.describe=function(){return"{Boolean} true or false"},dhtmlx.assert_rule_object=function(t){return"object"==typeof t?!0:!1},dhtmlx.assert_rule_object.describe=function(){return"{Object} Configuration object"},dhtmlx.assert_rule_string=function(t){return"string"==typeof t?!0:!1},dhtmlx.assert_rule_string.describe=function(){return"{String} Plain string"},dhtmlx.assert_rule_htmlpt=function(t){return!!dhtmlx.toNode(t)},dhtmlx.assert_rule_htmlpt.describe=function(){return"{Object},{String} HTML node or ID of HTML Node"},dhtmlx.assert_rule_notdocumented=function(){return!1},dhtmlx.assert_rule_notdocumented.describe=function(){return"This options wasn't documented"},dhtmlx.assert_rule_key=function(t){var e=function(e){return t[e]};return e.describe=function(){var e=[];for(var i in t)e.push(i);return"{String} can take one of next values: "+e.join(", ")},e},dhtmlx.assert_rule_dimension=function(t){return 1*t==t&&!isNaN(t)&&t>=0?!0:!1},dhtmlx.assert_rule_dimension.describe=function(){return"{Integer} value must be a positive number"},dhtmlx.assert_rule_number=function(t){return"number"==typeof t?!0:!1},dhtmlx.assert_rule_number.describe=function(){return"{Integer} value must be a number"},dhtmlx.assert_rule_function=function(t){return"function"==typeof t?!0:!1},dhtmlx.assert_rule_function.describe=function(){return"{Function} value must be a custom function"},dhtmlx.assert_rule_any=function(){return!0},dhtmlx.assert_rule_any.describe=function(){return"Any value"},dhtmlx.assert_rule_mix=function(t,e){var i=function(i){return t(i)||e(i)?!0:!1};return i.describe=function(){return t.describe()},i}),dhtmlx.version="3.0",dhtmlx.codebase="./",dhtmlx.copy=function(t){var e=dhtmlx.copy._function;return e.prototype=t,new e},dhtmlx.copy._function=function(){},dhtmlx.extend=function(t,e){for(var i in e)t[i]=e[i];return dhtmlx.assert_enabled()&&e._assert&&(t._assert(),t._assert=null),dhtmlx.assert(t,"Invalid nesting target"),dhtmlx.assert(e,"Invalid nesting source"),e._init&&t._init(),t},dhtmlx.proto_extend=function(){for(var t=arguments,e=t[0],i=[],s=t.length-1;s>0;s--){"function"==typeof t[s]&&(t[s]=t[s].prototype);for(var n in t[s])"_init"==n?i.push(t[s][n]):e[n]||(e[n]=t[s][n])}t[0]._init&&i.push(t[0]._init),e._init=function(){for(var t=0;t<i.length;t++)i[t].apply(this,arguments)},e.base=t[1];var a=function(t){this._init(t),this._parseSettings&&this._parseSettings(t,this.defaults)};return a.prototype=e,e=t=null,a},dhtmlx.bind=function(t,e){return function(){return t.apply(e,arguments)}},dhtmlx.require=function(t){dhtmlx._modules[t]||(dhtmlx.assert(dhtmlx.ajax,"load module is required"),dhtmlx.exec(dhtmlx.ajax().sync().get(dhtmlx.codebase+t).responseText),dhtmlx._modules[t]=!0)},dhtmlx._modules={},dhtmlx.exec=function(t){window.execScript?window.execScript(t):window.eval(t)},dhtmlx.methodPush=function(t,e){return function(){var i=!1;return i=t[e].apply(t,arguments)}},dhtmlx.isNotDefined=function(t){return"undefined"==typeof t},dhtmlx.delay=function(t,e,i,s){setTimeout(function(){var s=t.apply(e,i);return t=e=i=null,s},s||1)},dhtmlx.uid=function(){return this._seed||(this._seed=(new Date).valueOf()),this._seed++,this._seed},dhtmlx.toNode=function(t){return"string"==typeof t?document.getElementById(t):t},dhtmlx.toArray=function(t){return dhtmlx.extend(t||[],dhtmlx.PowerArray)},dhtmlx.toFunctor=function(str){return"string"==typeof str?eval(str):str},dhtmlx._events={},dhtmlx.event=function(t,e,i,s){t=dhtmlx.toNode(t);var n=dhtmlx.uid();return dhtmlx._events[n]=[t,e,i],s&&(i=dhtmlx.bind(i,s)),t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i),n},dhtmlx.eventRemove=function(t){if(t){dhtmlx.assert(this._events[t],"Removing non-existing event");var e=dhtmlx._events[t];e[0].removeEventListener?e[0].removeEventListener(e[1],e[2],!1):e[0].detachEvent&&e[0].detachEvent("on"+e[1],e[2]),delete this._events[t]}},dhtmlx.log=function(t,e,i){window.console&&console.log&&(t=t.toLowerCase(),window.console[t]?window.console[t](e||"unknown error"):window.console.log(t+": "+e),i&&window.console.log(i))},dhtmlx.log_full_time=function(t){dhtmlx._start_time_log=new Date,dhtmlx.log("Info","Timing start ["+t+"]"),window.setTimeout(function(){var e=new Date;dhtmlx.log("Info","Timing end ["+t+"]:"+(e.valueOf()-dhtmlx._start_time_log.valueOf())/1e3+"s")},1)},dhtmlx.log_time=function(t){var e="_start_time_log"+t;if(dhtmlx[e]){var i=new Date;dhtmlx.log("Info","Timing end ["+t+"]:"+(i.valueOf()-dhtmlx[e].valueOf())/1e3+"s"),dhtmlx[e]=null}else dhtmlx[e]=new Date,dhtmlx.log("Info","Timing start ["+t+"]")},dhtmlx.error=function(t,e){dhtmlx.log("error",t,e)},dhtmlx.EventSystem={_init:function(){this._events={},this._handlers={},this._map={}},block:function(){this._events._block=!0},unblock:function(){this._events._block=!1},mapEvent:function(t){dhtmlx.extend(this._map,t)},callEvent:function(t,e){if(this._events._block)return!0;t=t.toLowerCase(),dhtmlx.assert_event_call(this,t,e);var i=this._events[t.toLowerCase()],s=!0;if(dhtmlx.debug&&dhtmlx.log("info","["+this.name+"] event:"+t,e),i)for(var n=0;n<i.length;n++)i[n].apply(this,e||[])===!1&&(s=!1);return this._map[t]&&!this._map[t].callEvent(t,e)&&(s=!1),s},attachEvent:function(t,e,i){t=t.toLowerCase(),dhtmlx.assert_event_attach(this,t),i=i||dhtmlx.uid(),e=dhtmlx.toFunctor(e);var s=this._events[t]||dhtmlx.toArray();return s.push(e),this._events[t]=s,this._handlers[i]={f:e,t:t},i},detachEvent:function(t){if(this._handlers[t]){var e=this._handlers[t].t,i=this._handlers[t].f,s=this._events[e];s.remove(i),delete this._handlers[t]}}},dhtmlx.PowerArray={removeAt:function(t,e){t>=0&&this.splice(t,e||1)},remove:function(t){this.removeAt(this.find(t))},insertAt:function(t,e){if(e||0===e){var i=this.splice(e,this.length-e);this[e]=t,this.push.apply(this,i)}else this.push(t)},find:function(t){for(i=0;i<this.length;i++)if(t==this[i])return i;return-1},each:function(t,e){for(var i=0;i<this.length;i++)t.call(e||this,this[i])},map:function(t,e){for(var i=0;i<this.length;i++)this[i]=t.call(e||this,this[i]);return this}},dhtmlx.env={},-1!=navigator.userAgent.indexOf("Opera")?dhtmlx._isOpera=!0:(dhtmlx._isIE=!!document.all,dhtmlx._isFF=!document.all,dhtmlx._isWebKit=-1!=navigator.userAgent.indexOf("KHTML"),-1!=navigator.appVersion.indexOf("MSIE 8.0")&&"BackCompat"!=document.compatMode&&(dhtmlx._isIE=8),-1!=navigator.appVersion.indexOf("MSIE 9.0")&&"BackCompat"!=document.compatMode&&(dhtmlx._isIE=9)),dhtmlx.env={},function(){dhtmlx.env.transform=!1,dhtmlx.env.transition=!1;var t={};t.names=["transform","transition"],t.transform=["transform","WebkitTransform","MozTransform","oTransform","msTransform"],t.transition=["transition","WebkitTransition","MozTransition","oTransition"];for(var e=document.createElement("DIV"),i=0;i<t.names.length;i++)for(;p=t[t.names[i]].pop();)"undefined"!=typeof e.style[p]&&(dhtmlx.env[t.names[i]]=!0)}(),dhtmlx.env.transform_prefix=function(){var t;return dhtmlx._isOpera?t="-o-":(t="",dhtmlx._isFF&&(t="-moz-"),dhtmlx._isWebKit&&(t="-webkit-")),t}(),dhtmlx.env.svg=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}(),dhtmlx.zIndex={drag:1e4},dhtmlx.html={create:function(t,e,i){e=e||{};var s=document.createElement(t);for(var n in e)s.setAttribute(n,e[n]);return e.style&&(s.style.cssText=e.style),e["class"]&&(s.className=e["class"]),i&&(s.innerHTML=i),s},getValue:function(t){return t=dhtmlx.toNode(t),t?dhtmlx.isNotDefined(t.value)?t.innerHTML:t.value:""},remove:function(t){if(t instanceof Array)for(var e=0;e<t.length;e++)this.remove(t[e]);else t&&t.parentNode&&t.parentNode.removeChild(t)},insertBefore:function(t,e,i){t&&(e?e.parentNode.insertBefore(t,e):i.appendChild(t))},locate:function(t,e){t=t||event;for(var i=t.target||t.srcElement;i;){if(i.getAttribute){var s=i.getAttribute(e);if(s)return s}i=i.parentNode}return null},offset:function(t){if(t.getBoundingClientRect){var e=t.getBoundingClientRect(),i=document.body,s=document.documentElement,n=window.pageYOffset||s.scrollTop||i.scrollTop,a=window.pageXOffset||s.scrollLeft||i.scrollLeft,r=s.clientTop||i.clientTop||0,h=s.clientLeft||i.clientLeft||0,o=e.top+n-r,l=e.left+a-h;return{y:Math.round(o),x:Math.round(l)}}for(var o=0,l=0;t;)o+=parseInt(t.offsetTop,10),l+=parseInt(t.offsetLeft,10),t=t.offsetParent;return{y:o,x:l}},pos:function(t){if(t=t||event,t.pageX||t.pageY)return{x:t.pageX,y:t.pageY};var e=dhtmlx._isIE&&"BackCompat"!=document.compatMode?document.documentElement:document.body;return{x:t.clientX+e.scrollLeft-e.clientLeft,y:t.clientY+e.scrollTop-e.clientTop}},preventEvent:function(t){t&&t.preventDefault&&t.preventDefault(),dhtmlx.html.stopEvent(t)},stopEvent:function(t){return(t||event).cancelBubble=!0,!1},addCss:function(t,e){t.className+=" "+e},removeCss:function(t,e){t.className=t.className.replace(RegExp(e,"g"),"")}},function(){var t=document.getElementsByTagName("SCRIPT");dhtmlx.assert(t.length,"Can't locate codebase"),t.length&&(t=(t[t.length-1].getAttribute("src")||"").split("/"),t.splice(t.length-1,1),dhtmlx.codebase=t.slice(0,t.length).join("/")+"/")}(),dhtmlx.ui||(dhtmlx.ui={}),dhtmlx.Destruction={_init:function(){dhtmlx.destructors.push(this)},destructor:function(){this.destructor=function(){},this._htmlmap=null,this._htmlrows=null,this._html&&document.body.appendChild(this._html),this._html=null,this._obj&&(this._obj.innerHTML="",this._obj._htmlmap=null),this._obj=this._dataobj=null,this.data=null,this._events=this._handlers={},this.render&&(this.render=function(){})}},dhtmlx.destructors=[],dhtmlx.event(window,"unload",function(){if(dhtmlx.destructors){for(var t=0;t<dhtmlx.destructors.length;t++)dhtmlx.destructors[t].destructor();dhtmlx.destructors=[]}for(var e in dhtmlx._events){var i=dhtmlx._events[e];i[0].removeEventListener?i[0].removeEventListener(i[1],i[2],!1):i[0].detachEvent&&i[0].detachEvent("on"+i[1],i[2]),delete dhtmlx._events[e]}}),dhtmlx.ajax=function(t,e,i){if(0!==arguments.length){var s=new dhtmlx.ajax;i&&(s.master=i),s.get(t,null,e)}return this.getXHR?this:new dhtmlx.ajax},dhtmlx.ajax.prototype={getXHR:function(){return dhtmlx._isIE?new ActiveXObject("Microsoft.xmlHTTP"):new XMLHttpRequest},send:function(t,e,i){var s=this.getXHR();if("function"==typeof i&&(i=[i]),"object"==typeof e){var n=[];for(var a in e){var r=e[a];(null===r||r===dhtmlx.undefined)&&(r=""),n.push(a+"="+encodeURIComponent(r))}e=n.join("&")}e&&!this.post&&(t=t+(-1!=t.indexOf("?")?"&":"?")+e,e=null),s.open(this.post?"POST":"GET",t,!this._sync),this.post&&s.setRequestHeader("Content-type","application/x-www-form-urlencoded");var h=this;return s.onreadystatechange=function(){if(!s.readyState||4==s.readyState){if(i&&h)for(var t=0;t<i.length;t++)i[t]&&i[t].call(h.master||h,s.responseText,s.responseXML,s);h.master=null,i=h=null}},s.send(e||null),s},get:function(t,e,i){return this.post=!1,this.send(t,e,i)},post:function(t,e,i){return this.post=!0,this.send(t,e,i)},sync:function(){return this._sync=!0,this}},dhtmlx.AtomDataLoader={_init:function(t){this.data={},t&&(this._settings.datatype=t.datatype||"json",this._after_init.push(this._load_when_ready))},_load_when_ready:function(){this._ready_for_data=!0,this._settings.url&&this.url_setter(this._settings.url),this._settings.data&&this.data_setter(this._settings.data)},url_setter:function(t){return this._ready_for_data?(this.load(t,this._settings.datatype),t):t},data_setter:function(t){return this._ready_for_data?(this.parse(t,this._settings.datatype),!0):t},load:function(t,e){this.callEvent("onXLS",[]),"string"==typeof e?(this.data.driver=dhtmlx.DataDriver[e],e=arguments[2]):this.data.driver=dhtmlx.DataDriver.xml,dhtmlx.ajax(t,[this._onLoad,e],this)},parse:function(t,e){this.callEvent("onXLS",[]),this.data.driver=dhtmlx.DataDriver[e||"xml"],this._onLoad(t,null)},_onLoad:function(t,e){var i=this.data.driver,s=i.getRecords(i.toObject(t,e))[0];this.data=i?i.getDetails(s):t,this.callEvent("onXLE",[])},_check_data_feed:function(t){if(!this._settings.dataFeed||this._ignore_feed||!t)return!0;var e=this._settings.dataFeed;return"function"==typeof e?e.call(this,t.id||t,t):(e=e+(-1==e.indexOf("?")?"?":"&")+"action=get&id="+encodeURIComponent(t.id||t),this.callEvent("onXLS",[]),dhtmlx.ajax(e,function(t){this._ignore_feed=!0,this.setValues(dhtmlx.DataDriver.json.toObject(t)[0]),this._ignore_feed=!1,this.callEvent("onXLE",[])},this),!1)}},dhtmlx.DataDriver={},dhtmlx.DataDriver.json={toObject:function(data){return data||(data="[]"),"string"==typeof data?(eval("dhtmlx.temp="+data),dhtmlx.temp):data},getRecords:function(t){return!t||t instanceof Array?t:[t]},getDetails:function(t){return t},getInfo:function(t){return{_size:t.total_count||0,_from:t.pos||0,_key:t.dhx_security}}},dhtmlx.DataDriver.json_ext={toObject:function(data){if(data||(data="[]"),"string"==typeof data){var temp;eval("temp="+data),dhtmlx.temp=[];for(var header=temp.header,i=0;i<temp.data.length;i++){for(var item={},j=0;j<header.length;j++)"undefined"!=typeof temp.data[i][j]&&(item[header[j]]=temp.data[i][j]);dhtmlx.temp.push(item)}return dhtmlx.temp}return data},getRecords:function(t){return!t||t instanceof Array?t:[t]},getDetails:function(t){return t},getInfo:function(t){return{_size:t.total_count||0,_from:t.pos||0}}},dhtmlx.DataDriver.html={toObject:function(t){if("string"==typeof t){var e=null;return-1==t.indexOf("<")&&(e=dhtmlx.toNode(t)),e||(e=document.createElement("DIV"),e.innerHTML=t),e.getElementsByTagName(this.tag)}return t},getRecords:function(t){return t.tagName?t.childNodes:t},getDetails:function(t){return dhtmlx.DataDriver.xml.tagToObject(t)},getInfo:function(){return{_size:0,_from:0}},tag:"LI"},dhtmlx.DataDriver.jsarray={toObject:function(data){return"string"==typeof data?(eval("dhtmlx.temp="+data),dhtmlx.temp):data},getRecords:function(t){return t},getDetails:function(t){for(var e={},i=0;i<t.length;i++)e["data"+i]=t[i];return e},getInfo:function(){return{_size:0,_from:0}}},dhtmlx.DataDriver.csv={toObject:function(t){return t},getRecords:function(t){return t.split(this.row)},getDetails:function(t){t=this.stringToArray(t);for(var e={},i=0;i<t.length;i++)e["data"+i]=t[i];return e},getInfo:function(){return{_size:0,_from:0}},stringToArray:function(t){t=t.split(this.cell);for(var e=0;e<t.length;e++)t[e]=t[e].replace(/^[ \t\n\r]*(\"|)/g,"").replace(/(\"|)[ \t\n\r]*$/g,"");return t},row:"\n",cell:","},dhtmlx.DataDriver.xml={toObject:function(t,e){return e&&(e=this.checkResponse(t,e))?e:"string"==typeof t?this.fromString(t):t},getRecords:function(t){return this.xpath(t,this.records)},records:"/*/item",getDetails:function(t){return this.tagToObject(t,{})},getInfo:function(t){return{_size:t.documentElement.getAttribute("total_count")||0,_from:t.documentElement.getAttribute("pos")||0,_key:t.documentElement.getAttribute("dhx_security")}},xpath:function(t,e){if(window.XPathResult){var i=t;-1==t.nodeName.indexOf("document")&&(t=t.ownerDocument);for(var s=[],n=t.evaluate(e,i,null,XPathResult.ANY_TYPE,null),a=n.iterateNext();a;)s.push(a),a=n.iterateNext();return s}var r=!0;try{"undefined"==typeof t.selectNodes&&(r=!1)}catch(h){}if(r)return t.selectNodes(e);var o=e.split("/").pop();return t.getElementsByTagName(o)},tagToObject:function(t,e){e=e||{};var i=!1,s=t.attributes;if(s&&s.length){for(var n=0;n<s.length;n++)e[s[n].name]=s[n].value;i=!0}for(var a=t.childNodes,n=0;n<a.length;n++)if(1==a[n].nodeType){var r=a[n].tagName;"undefined"!=typeof e[r]?(e[r]instanceof Array||(e[r]=[e[r]]),e[r].push(this.tagToObject(a[n],{}))):e[a[n].tagName]=this.tagToObject(a[n],{}),i=!0}return i?(e.value=this.nodeValue(t),e):this.nodeValue(t)},nodeValue:function(t){return t.firstChild?t.firstChild.wholeText||t.firstChild.data:""},fromString:function(t){if(window.DOMParser&&!dhtmlx._isIE)return(new DOMParser).parseFromString(t,"text/xml");if(window.ActiveXObject){var e=new ActiveXObject("Microsoft.xmlDOM");return e.loadXML(t),e}dhtmlx.error("Load from xml string is not supported")},checkResponse:function(t,e){if(e&&e.firstChild&&"parsererror"!=e.firstChild.tagName)return e;var i=this.fromString(t.replace(/^[\s]+/,""));return i?i:void dhtmlx.error("xml can't be parsed",t)}},dhtmlx.DataLoader={_init:function(t){t=t||"",this.name="DataStore",this.data=t.datastore||new dhtmlx.DataStore,this._readyHandler=this.data.attachEvent("onStoreLoad",dhtmlx.bind(this._call_onready,this))},load:function(t){dhtmlx.AtomDataLoader.load.apply(this,arguments),this.data.feed||(this.data.feed=function(e,i){return this._load_count?this._load_count=[e,i]:(this._load_count=!0,void this.load(t+(-1==t.indexOf("?")?"?":"&")+"posStart="+e+"&count="+i,function(){var t=this._load_count;this._load_count=!1,"object"==typeof t&&this.data.feed.apply(this,t)}))})},_onLoad:function(t,e){this.data._parse(this.data.driver.toObject(t,e)),this.callEvent("onXLE",[]),this._readyHandler&&(this.data.detachEvent(this._readyHandler),this._readyHandler=null)},dataFeed_setter:function(t){return this.data.attachEvent("onBeforeFilter",dhtmlx.bind(function(t,e){if(this._settings.dataFeed){var i={};if(!t&&!i)return;if("function"==typeof t){if(!e)return;t(e,i)}else i={text:e};this.clearAll();var s=this._settings.dataFeed;if("function"==typeof s)return s.call(this,e,i);var n=[];for(var a in i)n.push("dhx_filter["+a+"]="+encodeURIComponent(i[a]));return this.load(s+(s.indexOf("?")<0?"?":"&")+n.join("&"),this._settings.datatype),!1}},this)),t},_call_onready:function(){if(this._settings.ready){var t=dhtmlx.toFunctor(this._settings.ready);t&&t.call&&t.apply(this,arguments)}}},dhtmlx.DataStore=function(){this.name="DataStore",dhtmlx.extend(this,dhtmlx.EventSystem),this.setDriver("xml"),this.pull={},this.order=dhtmlx.toArray()},dhtmlx.DataStore.prototype={setDriver:function(t){dhtmlx.assert(dhtmlx.DataDriver[t],"incorrect DataDriver"),this.driver=dhtmlx.DataDriver[t]},_parse:function(t){this.callEvent("onParse",[this.driver,t]),this._filter_order&&this.filter();var e=this.driver.getInfo(t);e._key&&(dhtmlx.security_key=e._key);var i=this.driver.getRecords(t),s=1*(e._from||0);0===s&&this.order[0]&&(s=this.order.length);for(var n=0,a=0;a<i.length;a++){var r=this.driver.getDetails(i[a]),h=this.id(r);this.pull[h]||(this.order[n+s]=h,n++),this.pull[h]=r,this.extraParser&&this.extraParser(r),this._scheme&&(this._scheme.$init?this._scheme.$update(r):this._scheme.$update&&this._scheme.$update(r))}for(var a=0;a<e._size;a++)if(!this.order[a]){var h=dhtmlx.uid(),r={id:h,$template:"loading"};this.pull[h]=r,this.order[a]=h}this.callEvent("onStoreLoad",[this.driver,t]),this.refresh()},id:function(t){return t.id||(t.id=dhtmlx.uid())},changeId:function(t,e){dhtmlx.assert(this.pull[t],"Can't change id, for non existing item: "+t),this.pull[e]=this.pull[t],this.pull[e].id=e,this.order[this.order.find(t)]=e,this._filter_order&&(this._filter_order[this._filter_order.find(t)]=e),this.callEvent("onIdChange",[t,e]),this._render_change_id&&this._render_change_id(t,e)},get:function(t){return this.item(t)},set:function(t,e){return this.update(t,e)},item:function(t){return this.pull[t]},update:function(t,e){return this._scheme&&this._scheme.$update&&this._scheme.$update(e),this.callEvent("onBeforeUpdate",[t,e])===!1?!1:(this.pull[t]=e,void this.refresh(t))},refresh:function(t){this._skip_refresh||(t?this.callEvent("onStoreUpdated",[t,this.pull[t],"update"]):this.callEvent("onStoreUpdated",[null,null,null]))},silent:function(t){this._skip_refresh=!0,t.call(this),this._skip_refresh=!1},getRange:function(t,e){if(t=t?this.indexById(t):this.startOffset||0,e?e=this.indexById(e):(e=Math.min(this.endOffset||1/0,this.dataCount()-1),0>e&&(e=0)),t>e){var i=e;e=t,t=i}return this.getIndexRange(t,e)},getIndexRange:function(t,e){e=Math.min(e||1/0,this.dataCount()-1);for(var i=dhtmlx.toArray(),s=t||0;e>=s;s++)i.push(this.item(this.order[s]));return i},dataCount:function(){return this.order.length},exists:function(t){return!!this.pull[t]},move:function(t,e){if(0>t||0>e)return void dhtmlx.error("DataStore::move","Incorrect indexes");var i=this.idByIndex(t),s=this.item(i);this.order.removeAt(t),this.order.insertAt(i,Math.min(this.order.length,e)),this.callEvent("onStoreUpdated",[i,s,"move"])},scheme:function(t){this._scheme=t},sync:function(t,e,i){"function"!=typeof e&&(i=e,e=null),dhtmlx.debug_bind&&(this.debug_sync_master=t,dhtmlx.log("[sync] "+this.debug_bind_master.name+"@"+this.debug_bind_master._settings.id+" <= "+this.debug_sync_master.name+"@"+this.debug_sync_master._settings.id));var s=t;"DataStore"!=t.name&&(t=t.data);var n=dhtmlx.bind(function(s,n,a){("update"!=a||e)&&(s=null),s||(this.order=dhtmlx.toArray([].concat(t.order)),this._filter_order=null,this.pull=t.pull,e&&this.silent(e),this._on_sync&&this._on_sync()),dhtmlx.debug_bind&&dhtmlx.log("[sync:request] "+this.debug_sync_master.name+"@"+this.debug_sync_master._settings.id+" <= "+this.debug_bind_master.name+"@"+this.debug_bind_master._settings.id),i?i=!1:this.refresh(s)},this);t.attachEvent("onStoreUpdated",n),this.feed=function(t,e){s.loadNext(e,t)},n()},add:function(t,e){if(this._scheme){t=t||{};for(var i in this._scheme)t[i]=t[i]||this._scheme[i];this._scheme&&(this._scheme.$init?this._scheme.$update(t):this._scheme.$update&&this._scheme.$update(t))}var s=this.id(t),n=this.dataCount();if((dhtmlx.isNotDefined(e)||0>e)&&(e=n),e>n&&(dhtmlx.log("Warning","DataStore:add","Index of out of bounds"),e=Math.min(this.order.length,e)),this.callEvent("onBeforeAdd",[s,t,e])===!1)return!1;if(this.exists(s))return dhtmlx.error("Not unique ID");if(this.pull[s]=t,this.order.insertAt(s,e),this._filter_order){var a=this._filter_order.length;!e&&this.order.length&&(a=0),this._filter_order.insertAt(s,a)}return this.callEvent("onafterAdd",[s,e]),this.callEvent("onStoreUpdated",[s,t,"add"]),s},remove:function(t){if(t instanceof Array)for(var e=0;e<t.length;e++)this.remove(t[e]);else{if(this.callEvent("onBeforeDelete",[t])===!1)return!1;if(!this.exists(t))return dhtmlx.error("Not existing ID",t);var i=this.item(t);this.order.remove(t),this._filter_order&&this._filter_order.remove(t),delete this.pull[t],this.callEvent("onafterdelete",[t]),this.callEvent("onStoreUpdated",[t,i,"delete"])}},clearAll:function(){this.pull={},this.order=dhtmlx.toArray(),this.feed=null,this._filter_order=null,this.callEvent("onClearAll",[]),this.refresh()},idByIndex:function(t){return(t>=this.order.length||0>t)&&dhtmlx.log("Warning","DataStore::idByIndex Incorrect index"),this.order[t]},indexById:function(t){var e=this.order.find(t);return e},next:function(t,e){return this.order[this.indexById(t)+(e||1)]},first:function(){return this.order[0]},last:function(){return this.order[this.order.length-1]},previous:function(t,e){return this.order[this.indexById(t)-(e||1)]},sort:function(t,e,i){var s=t;"function"==typeof t?s={as:t,dir:e}:"string"==typeof t&&(s={by:t,dir:e,as:i});var n=[s.by,s.dir,s.as];if(this.callEvent("onbeforesort",n)){if(this.order.length){var a=dhtmlx.sort.create(s),r=this.getRange(this.first(),this.last());r.sort(a),this.order=r.map(function(t){return this.id(t)},this)}this.refresh(),this.callEvent("onaftersort",n)}},filter:function(t,e){if(this.callEvent("onBeforeFilter",[t,e])&&(this._filter_order&&(this.order=this._filter_order,delete this._filter_order),this.order.length)){if(t){var i=t;e=e||"","string"==typeof t&&(t=dhtmlx.Template.fromHTML(t),e=e.toString().toLowerCase(),i=function(e,i){return-1!=t(e).toLowerCase().indexOf(i)});for(var s=dhtmlx.toArray(),n=0;n<this.order.length;n++){var a=this.order[n];i(this.item(a),e)&&s.push(a)}this._filter_order=this.order,this.order=s}this.refresh(),this.callEvent("onAfterFilter",[])}},each:function(t,e){for(var i=0;i<this.order.length;i++)t.call(e||this,this.item(this.order[i]))},provideApi:function(t,e){this.debug_bind_master=t,e&&this.mapEvent({onbeforesort:t,onaftersort:t,onbeforeadd:t,onafteradd:t,onbeforedelete:t,onafterdelete:t,onbeforeupdate:t});for(var i=["get","set","sort","add","remove","exists","idByIndex","indexById","item","update","refresh","dataCount","filter","next","previous","clearAll","first","last","serialize"],s=0;s<i.length;s++)t[i[s]]=dhtmlx.methodPush(this,i[s]);dhtmlx.assert_enabled()&&this.assert_event(t)},serialize:function(){for(var t=this.order,e=[],i=0;i<t.length;i++)e.push(this.pull[t[i]]);return e}},dhtmlx.sort={create:function(t){return dhtmlx.sort.dir(t.dir,dhtmlx.sort.by(t.by,t.as))},as:{"int":function(t,e){return t=1*t,e=1*e,t>e?1:e>t?-1:0},string_strict:function(t,e){return t=t.toString(),e=e.toString(),t>e?1:e>t?-1:0},string:function(t,e){return t=t.toString().toLowerCase(),e=e.toString().toLowerCase(),t>e?1:e>t?-1:0}},by:function(t,e){return t?("function"!=typeof e&&(e=dhtmlx.sort.as[e||"string"]),t=dhtmlx.Template.fromHTML(t),function(i,s){return e(t(i),t(s))}):e},dir:function(t,e){return"asc"==t?e:function(t,i){return-1*e(t,i)}}},dhtmlx.KeyEvents={_init:function(){dhtmlx.event(this._obj,"keypress",this._onKeyPress,this)},_onKeyPress:function(t){t=t||event;var e=t.which||t.keyCode;this.callEvent(this._edit_id?"onEditKeyPress":"onKeyPress",[e,t.ctrlKey,t.shiftKey,t])}},dhtmlx.MouseEvents={_init:function(){this.on_click&&(dhtmlx.event(this._obj,"click",this._onClick,this),dhtmlx.event(this._obj,"contextmenu",this._onContext,this)),this.on_dblclick&&dhtmlx.event(this._obj,"dblclick",this._onDblClick,this),this.on_mouse_move&&(dhtmlx.event(this._obj,"mousemove",this._onMouse,this),dhtmlx.event(this._obj,dhtmlx._isIE?"mouseleave":"mouseout",this._onMouse,this))},_onClick:function(t){return this._mouseEvent(t,this.on_click,"ItemClick")},_onDblClick:function(t){return this._mouseEvent(t,this.on_dblclick,"ItemDblClick")},_onContext:function(t){var e=dhtmlx.html.locate(t,this._id);return e&&!this.callEvent("onBeforeContextMenu",[e,t])?dhtmlx.html.preventEvent(t):void 0},_onMouse:function(t){dhtmlx._isIE&&(t=document.createEventObject(event)),this._mouse_move_timer&&window.clearTimeout(this._mouse_move_timer),this.callEvent("onMouseMoving",[t]),this._mouse_move_timer=window.setTimeout(dhtmlx.bind(function(){"mousemove"==t.type?this._onMouseMove(t):this._onMouseOut(t)},this),500)},_onMouseMove:function(t){this._mouseEvent(t,this.on_mouse_move,"MouseMove")||this.callEvent("onMouseOut",[t||event])},_onMouseOut:function(t){this.callEvent("onMouseOut",[t||event])},_mouseEvent:function(t,e,i){t=t||event;for(var s=t.target||t.srcElement,n="",a=null,r=!1;s&&s.parentNode;){if(!r&&s.getAttribute&&(a=s.getAttribute(this._id))){if(s.getAttribute("userdata")&&this.callEvent("onLocateData",[a,s]),!this.callEvent("on"+i,[a,t,s]))return;r=!0}if(n=s.className,n&&(n=n.split(" "),n=n[0]||n[1],e[n]))return e[n].call(this,t,a||dhtmlx.html.locate(t,this._id),s);s=s.parentNode}return r}},dhtmlx.Settings={_init:function(){this._settings=this.config={}},define:function(t,e){return"object"==typeof t?this._parseSeetingColl(t):this._define(t,e)},_define:function(t,e){dhtmlx.assert_settings.call(this,t,e);var i=this[t+"_setter"];return this._settings[t]=i?i.call(this,e):e},_parseSeetingColl:function(t){if(t)for(var e in t)this._define(e,t[e])},_parseSettings:function(t,e){var i=dhtmlx.extend({},e);"object"!=typeof t||t.tagName||dhtmlx.extend(i,t),this._parseSeetingColl(i)},_mergeSettings:function(t,e){for(var i in e)switch(typeof t[i]){case"object":t[i]=this._mergeSettings(t[i]||{},e[i]);break;case"undefined":t[i]=e[i]}return t},_parseContainer:function(t,e,i){"object"!=typeof t||t.tagName||(t=t.container),this._obj=this.$view=dhtmlx.toNode(t),!this._obj&&i&&(this._obj=i(t)),dhtmlx.assert(this._obj,"Incorrect html container"),this._obj.className+=" "+e,this._obj.onselectstart=function(){return!1},this._dataobj=this._obj},_set_type:function(t){return"object"==typeof t?this.type_setter(t):(dhtmlx.assert(this.types,"RenderStack :: Types are not defined"),dhtmlx.assert(this.types[t],"RenderStack :: Inccorect type name",t),this.type=dhtmlx.extend({},this.types[t]),void this.customize())},customize:function(t){t&&dhtmlx.extend(this.type,t),this.type._item_start=dhtmlx.Template.fromHTML(this.template_item_start(this.type)),this.type._item_end=this.template_item_end(this.type),this.render()},type_setter:function(t){return this._set_type("object"==typeof t?dhtmlx.Type.add(this,t):t),t},template_setter:function(t){return this.type_setter({template:t})},css_setter:function(t){return this._obj.className+=" "+t,t}},dhtmlx.Template={_cache:{},empty:function(){return""},setter:function(t){return dhtmlx.Template.fromHTML(t)},obj_setter:function(t){var e=dhtmlx.Template.setter(t),i=this;return function(){return e.apply(i,arguments)}},fromHTML:function(t){return"function"==typeof t?t:this._cache[t]?this._cache[t]:(t=(t||"").toString(),t=t.replace(/[\r\n]+/g,"\\n"),t=t.replace(/\{obj\.([^}?]+)\?([^:]*):([^}]*)\}/g,'"+(obj.$1?"$2":"$3")+"'),t=t.replace(/\{common\.([^}\(]*)\}/g,'"+common.$1+"'),t=t.replace(/\{common\.([^\}\(]*)\(\)\}/g,'"+(common.$1?common.$1(obj):"")+"'),t=t.replace(/\{obj\.([^}]*)\}/g,'"+obj.$1+"'),t=t.replace(/#([a-z0-9_]+)#/gi,'"+obj.$1+"'),t=t.replace(/\{obj\}/g,'"+obj+"'),t=t.replace(/\{-obj/g,"{obj"),t=t.replace(/\{-common/g,"{common"),t='return "'+t+'";',this._cache[t]=Function("obj","common",t))
}},dhtmlx.Type={add:function(t,e){!t.types&&t.prototype.types&&(t=t.prototype),dhtmlx.assert_enabled()&&this.assert_event(e);var i=e.name||"default";return this._template(e),this._template(e,"edit"),this._template(e,"loading"),t.types[i]=dhtmlx.extend(dhtmlx.extend({},t.types[i]||this._default),e),i},_default:{css:"default",template:function(){return""},template_edit:function(){return""},template_loading:function(){return"..."},width:150,height:80,margin:5,padding:0},_template:function(t,e){e="template"+(e?"_"+e:"");var i=t[e];if(i&&"string"==typeof i){if(-1!=i.indexOf("->"))switch(i=i.split("->"),i[0]){case"html":i=dhtmlx.html.getValue(i[1]).replace(/\"/g,'\\"');break;case"http":i=(new dhtmlx.ajax).sync().get(i[1],{uid:(new Date).valueOf()}).responseText}t[e]=dhtmlx.Template.fromHTML(i)}}},dhtmlx.SingleRender={_init:function(){},_toHTML:function(t){return this.type._item_start(t,this.type)+this.type.template(t,this.type)+this.type._item_end},render:function(){(!this.callEvent||this.callEvent("onBeforeRender",[this.data]))&&(this.data&&(this._dataobj.innerHTML=this._toHTML(this.data)),this.callEvent&&this.callEvent("onAfterRender",[]))}},dhtmlx.ui.Tooltip=function(t){this.name="Tooltip",this.version="3.0",dhtmlx.assert_enabled()&&this._assert(),"string"==typeof t&&(t={template:t}),dhtmlx.extend(this,dhtmlx.Settings),dhtmlx.extend(this,dhtmlx.SingleRender),this._parseSettings(t,{type:"default",dy:0,dx:20}),this._dataobj=this._obj=document.createElement("DIV"),this._obj.className="dhx_tooltip",dhtmlx.html.insertBefore(this._obj,document.body.firstChild)},dhtmlx.ui.Tooltip.prototype={show:function(t,e){this._disabled||(this.data!=t&&(this.data=t,this.render(t)),this._obj.style.top=e.y+this._settings.dy+"px",this._obj.style.left=e.x+this._settings.dx+"px",this._obj.style.display="block")},hide:function(){this.data=null,this._obj.style.display="none"},disable:function(){this._disabled=!0},enable:function(){this._disabled=!1},types:{"default":dhtmlx.Template.fromHTML("{obj.id}")},template_item_start:dhtmlx.Template.empty,template_item_end:dhtmlx.Template.empty},dhtmlx.AutoTooltip={tooltip_setter:function(t){var e=new dhtmlx.ui.Tooltip(t);return this.attachEvent("onMouseMove",function(t,i){e.show(this.get(t),dhtmlx.html.pos(i))}),this.attachEvent("onMouseOut",function(){e.hide()}),this.attachEvent("onMouseMoving",function(){e.hide()}),e}},dhtmlx.compat=function(t,e){dhtmlx.compat[t]&&dhtmlx.compat[t](e)},dhtmlx.attaches||(dhtmlx.attaches={}),dhtmlx.attaches.attachAbstract=function(t,e){var i=document.createElement("DIV");i.id="CustomObject_"+dhtmlx.uid(),i.style.width="100%",i.style.height="100%",i.cmp="grid",document.body.appendChild(i),this.attachObject(i.id),e.container=i.id;var s=this.vs[this.av];s.grid=new window[t](e),s.gridId=i.id,s.gridObj=i,s.grid.setSizes=function(){this.resize?this.resize():this.render()};var n="_viewRestore";return this.vs[this[n]()].grid},dhtmlx.attaches.attachDataView=function(t){return this.attachAbstract("dhtmlXDataView",t)},dhtmlx.attaches.attachChart=function(t){return this.attachAbstract("dhtmlXChart",t)},dhtmlx.compat.layout=function(){},dhtmlx.Group={_init:function(){dhtmlx.assert(this.data,"DataStore required for grouping"),this.data.attachEvent("onStoreLoad",dhtmlx.bind(function(){this._settings.group&&this.group(this._settings.group,!1)},this)),this.attachEvent("onBeforeRender",dhtmlx.bind(function(t){this._settings.sort&&(t.block(),t.sort(this._settings.sort),t.unblock())},this)),this.data.attachEvent("onClearAll",dhtmlx.bind(function(){this.data._not_grouped_order=this.data._not_grouped_pull=null},this)),this.attachEvent("onBeforeSort",dhtmlx.bind(function(){this._settings.sort=null},this))},_init_group_data_event:function(t,e){t.attachEvent("onClearAll",dhtmlx.bind(function(){this.ungroup(!1),this.block(),this.clearAll(),this.unblock()},e))},sum:function(t,e){t=dhtmlx.Template.setter(t),e=e||this.data;var i=0;return e.each(function(e){i+=1*t(e)}),i},min:function(t,e){t=dhtmlx.Template.setter(t),e=e||this.data;var i=1/0;return e.each(function(e){1*t(e)<i&&(i=1*t(e))}),1*i},max:function(t,e){t=dhtmlx.Template.setter(t),e=e||this.data;var i=-(1/0);return e.each(function(e){1*t(e)>i&&(i=1*t(e))}),i},_split_data_by:function(t){var e=function(t,e){return(t=dhtmlx.Template.setter(t))(e[0])},i=dhtmlx.Template.setter(t.by);t.map[i]||(t.map[i]=[i,e]);var s={},n=[];this.data.each(function(t){var e=i(t);s[e]||(n.push({id:e}),s[e]=dhtmlx.toArray()),s[e].push(t)});for(var a in t.map){var r=t.map[a][1]||e;"function"!=typeof r&&(r=this[r]);for(var h=0;h<n.length;h++)n[h][a]=r.call(this,t.map[a][0],s[n[h].id])}this.data._not_grouped_order=this.data.order,this.data._not_grouped_pull=this.data.pull,this.data.order=dhtmlx.toArray(),this.data.pull={};for(var h=0;h<n.length;h++){var o=this.data.id(n[h]);this.data.pull[o]=n[h],this.data.order.push(o)}this.callEvent("onStoreUpdated",[])},group:function(t,e){this.ungroup(!1),this._split_data_by(t),e!==!1&&this.data.callEvent("onStoreUpdated",[])},ungroup:function(t){this.data._not_grouped_order&&(this.data.order=this.data._not_grouped_order,this.data.pull=this.data._not_grouped_pull,this.data._not_grouped_pull=this.data._not_grouped_order=null),t!==!1&&this.data.callEvent("onStoreUpdated",[])},group_setter:function(t){return dhtmlx.assert("object"==typeof t,"Incorrect group value"),dhtmlx.assert(t.by,"group.by is mandatory"),dhtmlx.assert(t.map,"group.map is mandatory"),t},sort_setter:function(t){return"object"!=typeof t&&(t={by:t}),this._mergeSettings(t,{as:"string",dir:"asc"}),t}},dhtmlx.Date={Locale:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},date_part:function(t){return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t},time_part:function(t){return(t.valueOf()/1e3-60*t.getTimezoneOffset())%86400},week_start:function(t){var e=t.getDay();return this.config.start_on_monday&&(0===e?e=6:e--),this.date_part(this.add(t,-1*e,"day"))},month_start:function(t){return t.setDate(1),this.date_part(t)},year_start:function(t){return t.setMonth(0),this.month_start(t)},day_start:function(t){return this.date_part(t)},add:function(t,e,i){var s=new Date(t.valueOf());switch(i){case"day":s.setDate(s.getDate()+e);break;case"week":s.setDate(s.getDate()+7*e);break;case"month":s.setMonth(s.getMonth()+e);break;case"year":s.setYear(s.getFullYear()+e);break;case"hour":s.setHours(s.getHours()+e);break;case"minute":s.setMinutes(s.getMinutes()+e);break;default:return dhtmlx.Date["add_"+i](t,e,i)}return s},to_fixed:function(t){return 10>t?"0"+t:t},copy:function(t){return new Date(t.valueOf())},date_to_str:function(t,e){return t=t.replace(/%[a-zA-Z]/g,function(t){switch(t){case"%d":return'"+dhtmlx.Date.to_fixed(date.getDate())+"';case"%m":return'"+dhtmlx.Date.to_fixed((date.getMonth()+1))+"';case"%j":return'"+date.getDate()+"';case"%n":return'"+(date.getMonth()+1)+"';case"%y":return'"+dhtmlx.Date.to_fixed(date.getFullYear()%100)+"';case"%Y":return'"+date.getFullYear()+"';case"%D":return'"+dhtmlx.Date.Locale.day_short[date.getDay()]+"';case"%l":return'"+dhtmlx.Date.Locale.day_full[date.getDay()]+"';case"%M":return'"+dhtmlx.Date.Locale.month_short[date.getMonth()]+"';case"%F":return'"+dhtmlx.Date.Locale.month_full[date.getMonth()]+"';case"%h":return'"+dhtmlx.Date.to_fixed((date.getHours()+11)%12+1)+"';case"%g":return'"+((date.getHours()+11)%12+1)+"';case"%G":return'"+date.getHours()+"';case"%H":return'"+dhtmlx.Date.to_fixed(date.getHours())+"';case"%i":return'"+dhtmlx.Date.to_fixed(date.getMinutes())+"';case"%a":return'"+(date.getHours()>11?"pm":"am")+"';case"%A":return'"+(date.getHours()>11?"PM":"AM")+"';case"%s":return'"+dhtmlx.Date.to_fixed(date.getSeconds())+"';case"%W":return'"+dhtmlx.Date.to_fixed(dhtmlx.Date.getISOWeek(date))+"';default:return t}}),e&&(t=t.replace(/date\.get/g,"date.getUTC")),new Function("date",'return "'+t+'";')},str_to_date:function(t,e){for(var i="var temp=date.split(/[^0-9a-zA-Z]+/g);",s=t.match(/%[a-zA-Z]/g),n=0;n<s.length;n++)switch(s[n]){case"%j":case"%d":i+="set[2]=temp["+n+"]||1;";break;case"%n":case"%m":i+="set[1]=(temp["+n+"]||1)-1;";break;case"%y":i+="set[0]=temp["+n+"]*1+(temp["+n+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":i+="set[3]=temp["+n+"]||0;";break;case"%i":i+="set[4]=temp["+n+"]||0;";break;case"%Y":i+="set[0]=temp["+n+"]||0;";break;case"%a":case"%A":i+="set[3]=set[3]%12+((temp["+n+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":i+="set[5]=temp["+n+"]||0;"}var a="set[0],set[1],set[2],set[3],set[4],set[5]";return e&&(a=" Date.UTC("+a+")"),new Function("date","var set=[0,0,1,0,0,0]; "+i+" return new Date("+a+");")},getISOWeek:function(t){if(!t)return!1;var e=t.getDay();0===e&&(e=7);var i=new Date(t.valueOf());i.setDate(t.getDate()+(4-e));var s=i.getFullYear(),n=Math.floor((i.getTime()-new Date(s,0,1).getTime())/864e5),a=1+Math.floor(n/7);return a},getUTCISOWeek:function(t){return this.getISOWeek(t)}},dhtmlx.math={},dhtmlx.math._toHex=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],dhtmlx.math.toHex=function(t,e){for(t=parseInt(t,10),str="";t>0;)str=this._toHex[t%16]+str,t=Math.floor(t/16);for(;str.length<e;)str="0"+str;return str},dhtmlx.math.hexToDec=function(t){return parseInt(t,16)},dhtmlx.math.toRgb=function(t){var e,i,s,n;return"string"!=typeof t?(e=t[0],i=t[1],s=t[2]):-1!=t.indexOf("rgb")?(n=t.substr(t.indexOf("(")+1,t.lastIndexOf(")")-t.indexOf("(")-1).split(","),e=n[0],i=n[1],s=n[2]):("#"==t.substr(0,1)&&(t=t.substr(1)),e=this.hexToDec(t.substr(0,2)),i=this.hexToDec(t.substr(2,2)),s=this.hexToDec(t.substr(4,2))),e=parseInt(e,10)||0,i=parseInt(i,10)||0,s=parseInt(s,10)||0,(0>e||e>255)&&(e=0),(0>i||i>255)&&(i=0),(0>s||s>255)&&(s=0),[e,i,s]},dhtmlx.math.hsvToRgb=function(t,e,i){var s,n,a,r,h,o,l,d;switch(s=Math.floor(t/60)%6,n=t/60-s,a=i*(1-e),r=i*(1-n*e),h=i*(1-(1-n)*e),o=0,l=0,d=0,s){case 0:o=i,l=h,d=a;break;case 1:o=r,l=i,d=a;break;case 2:o=a,l=i,d=h;break;case 3:o=a,l=r,d=i;break;case 4:o=h,l=a,d=i;break;case 5:o=i,l=a,d=r}return o=Math.floor(255*o),l=Math.floor(255*l),d=Math.floor(255*d),[o,l,d]},dhtmlx.math.rgbToHsv=function(t,e,i){var s,n,a,r,h,o,l,d;s=t/255,n=e/255,a=i/255;var r=Math.min(s,n,a),h=Math.max(s,n,a);return l=0,o=0==h?0:1-r/h,d=h,h==r?l=0:h==s&&n>=a?l=60*(n-a)/(h-r)+0:h==s&&a>n?l=60*(n-a)/(h-r)+360:h==n?l=60*(a-s)/(h-r)+120:h==a&&(l=60*(s-n)/(h-r)+240),[l,o,d]},dhtmlx.presets||(dhtmlx.presets={}),dhtmlx.presets.chart={simple:{item:{borderColor:"#ffffff",color:"#2b7100",shadow:!1,borderWidth:2},line:{color:"#8ecf03",width:2}},plot:{color:"#1293f8",item:{borderColor:"#636363",borderWidth:1,color:"#ffffff",type:"r",shadow:!1},line:{color:"#1293f8",width:2}},diamond:{color:"#b64040",item:{borderColor:"#b64040",color:"#b64040",type:"d",radius:3,shadow:!0},line:{color:"#ff9000",width:2}},point:{color:"#fe5916",disableLines:!0,fill:!1,disableItems:!1,item:{color:"#feb916",borderColor:"#fe5916",radius:2,borderWidth:1,type:"r"},alpha:1},line:{line:{color:"#3399ff",width:2},item:{color:"#ffffff",borderColor:"#3399ff",radius:2,borderWidth:2,type:"d"},fill:!1,disableItems:!1,disableLines:!1,alpha:1},area:{fill:"#3399ff",line:{color:"#3399ff",width:1},disableItems:!0,alpha:.2,disableLines:!1},round:{item:{radius:3,borderColor:"#3f83ff",borderWidth:1,color:"#3f83ff",type:"r",shadow:!1,alpha:.6}},square:{item:{radius:3,borderColor:"#447900",borderWidth:2,color:"#69ba00",type:"s",shadow:!1,alpha:1}},column:{color:"RAINBOW",gradient:!1,width:45,radius:0,alpha:1,border:!0},stick:{width:5,gradient:!1,color:"#67b5c9",radius:2,alpha:1,border:!1},alpha:{color:"#b9a8f9",width:70,gradient:"falling",radius:0,alpha:.5,border:!0}},dhtmlx.ui.Map=function(t){this.name="Map",this._id="map_"+dhtmlx.uid(),this._key=t,this._map=[]},dhtmlx.ui.Map.prototype={addRect:function(t,e,i){this._createMapArea(t,"RECT",e,i)},addPoly:function(t,e,i){this._createMapArea(t,"POLY",e,i)},_createMapArea:function(t,e,i,s){var n="";4==arguments.length&&(n="userdata='"+s+"'"),this._map.push("<area "+this._key+"='"+t+"' shape='"+e+"' coords='"+i.join()+"' "+n+"></area>")},addSector:function(t,e,i,s,n,a,r,h){var o=[];o.push(s),o.push(Math.floor(n*r));for(var l=e;i>l;l+=Math.PI/18)o.push(Math.floor(s+a*Math.cos(l))),o.push(Math.floor((n+a*Math.sin(l))*r));return o.push(Math.floor(s+a*Math.cos(i))),o.push(Math.floor((n+a*Math.sin(i))*r)),o.push(s),o.push(Math.floor(n*r)),this.addPoly(t,o,h)},render:function(t){var e=dhtmlx.html.create("DIV");e.style.cssText="position:absolute; width:100%; height:100%; top:0px; left:0px;",t.appendChild(e);var i=dhtmlx._isIE?"":"src='data:image/gif;base64,R0lGODlhEgASAIAAAP///////yH5BAUUAAEALAAAAAASABIAAAIPjI+py+0Po5y02ouz3pwXADs='";e.innerHTML="<map id='"+this._id+"' name='"+this._id+"'>"+this._map.join("\n")+"</map><img "+i+" class='dhx_map_img' usemap='#"+this._id+"' onmousedown='return false;'>",t._htmlmap=e,this._map=[]}},dhtmlx.chart={},dhtmlx.chart.scatter={pvt_render_scatter:function(t,e,i,s,n,a){if(!this._settings.xValue)return dhtmlx.log("warning","Undefined propery: xValue");var r=this._getLimits(),h=this._getLimits("h","xValue");n||(this.canvases.x||(this.canvases.x=new dhtmlx.ui.Canvas(this._obj,"axis_x")),this.canvases.y||(this.canvases.y=new dhtmlx.ui.Canvas(this._obj,"axis_y")),this._drawYAxis(this.canvases.y.getCanvas(),e,i,s,r.min,r.max),this._drawHXAxis(this.canvases.x.getCanvas(),e,i,s,h.min,h.max)),r={min:this._settings.yAxis.start,max:this._settings.yAxis.end},h={min:this._settings.xAxis.start,max:this._settings.xAxis.end};var o=this._getScatterParams(t,e,i,s,h,r);this._mapStart=i;for(var l=0;l<e.length;l++)this._drawScatterItem(t,a,i,s,o,h,r,e[l],n)},_getScatterParams:function(t,e,i,s,n,a){var r={};return r.totalHeight=s.y-i.y,r.totalWidth=s.x-i.x,this._calcScatterUnit(r,n.min,n.max,r.totalWidth,"X"),this._calcScatterUnit(r,a.min,a.max,r.totalHeight,"Y"),r},_drawScatterItem:function(t,e,i,s,n,a,r,h,o){var l=this._calculateScatterItemPosition(n,s,i,a,h,"X"),d=this._calculateScatterItemPosition(n,i,s,r,h,"Y");this._drawItem(t,l,d,h,this._settings.label.call(this,h),o,e)},_calculateScatterItemPosition:function(t,e,i,s,n,a){var r=this._settings["X"==a?"xValue":"value"].call(this,n),h=t["valueFactor"+a],o=(parseFloat(r||0)-s.min)*h,l=t["unit"+a],d=i[a.toLowerCase()]-("X"==a?-1:1)*Math.floor(l*o);return 0>o&&(d=i[a.toLowerCase()]),r>s.max&&(d=e[a.toLowerCase()]),r<s.min&&(d=i[a.toLowerCase()]),d},_calcScatterUnit:function(t,e,i,s,n){var a=this._getRelativeValue(e,i);n=n||"",t["relValue"+n]=a[0],t["valueFactor"+n]=a[1],t["unit"+n]=t["relValue"+n]?s/t["relValue"+n]:10}},dhtmlx.chart.radar={pvt_render_radar:function(t,e,i,s,n,a){this._renderRadarChart(t,e,i,s,n,a)},_renderRadarChart:function(t,e,i,s,n,a){if(e.length){for(var r=this._getPieParameters(i,s),h=this._settings.radius?this._settings.radius:r.radius,o=this._settings.x?this._settings.x:r.x,l=this._settings.y?this._settings.y:r.y,d=[],c=0;c<e.length;c++)d.push(1);var u=this._getRatios(d,e.length);this._mapStart=i,n||this._drawRadarAxises(u,o,l,h,e),this._drawRadarData(t,u,o,l,h,e,n,a)}},_drawRadarData:function(t,e,i,s,n,a,r,h){var o,l,d,c,u,f,_,g,m,x,p,v,y,b,w,A,M,S,T;for(d=this._settings,u=d.yAxis.start,f=d.yAxis.end,T=this._getRelativeValue(u,f),v=T[0],S=v?n/v:n/2,M=T[1],y=-Math.PI/2,o=l=y,m=[],g=0,c=0;c<a.length;c++)A?w=A:(b=d.value(a[c]),w=(parseFloat(b||0)-u)*M),x=Math.floor(S*w),b=d.value(c!=a.length-1?a[c+1]:a[0]),A=(parseFloat(b||0)-u)*M,p=Math.floor(S*A),o=l,l=c!=a.length-1?y+e[c]-1e-4:y,_=g||this._getPositionByAngle(o,i,s,x),g=this._getPositionByAngle(l,i,s,p),m.push(_);d.fill&&this._fillRadarChart(t,m,a),d.disableLines||this._strokeRadarChart(t,m,a),d.disableItems||this._drawRadarItemMarkers(t,m,a,r,h),m=null},_drawRadarItemMarkers:function(t,e,i,s,n){for(var a=0;a<e.length;a++)this._drawItem(t,e[a].x,e[a].y,i[a],this._settings.label.call(this,i),s,n)},_fillRadarChart:function(t,e,i){var s,n;t.globalAlpha=this._settings.alpha.call(this,{}),t.beginPath();for(var a=0;a<e.length;a++)t.fillStyle=this._settings.fill.call(this,i[a]),s=e[a],n=e[a+1]||e[0],a||t.moveTo(s.x,s.y),t.lineTo(n.x,n.y);t.fill(),t.globalAlpha=1},_strokeRadarChart:function(t,e,i){for(var s,n,a=0;a<e.length;a++)s=e[a],n=e[a+1]||e[0],this._drawLine(t,s.x,s.y,n.x,n.y,this._settings.line.color.call(this,i[a]),this._settings.line.width)},_drawRadarAxises:function(t,e,i,s,n){var a=this._settings.yAxis,r=this._settings.xAxis,h=a.start,o=a.end,l=a.step,d={},c=this._configYAxis;if("undefined"==typeof c.step||"undefined"==typeof c.start||"undefined"==typeof c.end){var u=this._getLimits();d=this._calculateScale(u.min,u.max),h=d.start,o=d.end,l=d.step,a.end=o,a.start=h}var f,_,g,m,x,p=[],v=0,y=s*l/(o-h);1>l&&(m=Math.min(this._log10(l),0>=h?0:this._log10(h)),x=Math.pow(10,-m));var b=[];this.canvases.scale||(this.canvases.scale=new dhtmlx.ui.Canvas(this._obj,"radar_scale"));var w=this.canvases.scale.getCanvas();for(f=o;f>=h;f-=l){d.fixNum&&(f=parseFloat(new Number(f).toFixed(d.fixNum))),p.push(Math.floor(v*y)+.5),x&&(f=Math.round(f*x)/x);var A=i-s+p[p.length-1];if(this.canvases.scale.renderTextAt("middle","left",e,A,a.template(f.toString()),"dhx_axis_item_y dhx_radar"),t.length<2)return void this._drawScaleSector(w,"arc",e,i,s-p[p.length-1],-Math.PI/2,3*Math.PI/2,f);var M,S=-Math.PI/2,T=S;for(_=0;_<t.length;_++)f==o&&b.push(T),M=S+t[_]-1e-4,this._drawScaleSector(w,c.lineShape||"line",e,i,s-p[p.length-1],T,M,f,_,n[f]),T=M;v++}for(f=0;f<b.length;f++)g=this._getPositionByAngle(b[f],e,i,s),r.lines.call(this,n[f],f)&&this._drawLine(w,e,i,g.x,g.y,r?r.lineColor.call(this,n[f]):"#cfcfcf",1),this._drawRadarScaleLabel(w,e,i,s,b[f],r?r.template.call(this,n[f]):"&nbsp;")},_drawScaleSector:function(t,e,i,s,n,a,r,h,o){var l,d;if(0>n)return!1;l=this._getPositionByAngle(a,i,s,n),d=this._getPositionByAngle(r,i,s,n);var c=this._settings.yAxis;c.bg&&(t.beginPath(),t.moveTo(i,s),"arc"==e?t.arc(i,s,n,a,r,!1):(t.lineTo(l.x,l.y),t.lineTo(d.x,d.y)),t.fillStyle=c.bg(h,o),t.moveTo(i,s),t.fill(),t.closePath()),c.lines.call(this,h)&&(t.lineWidth=1,t.beginPath(),"arc"==e?t.arc(i,s,n,a,r,!1):(t.moveTo(l.x,l.y),t.lineTo(d.x,d.y)),t.strokeStyle=c.lineColor.call(this,h),t.stroke())},_drawRadarScaleLabel:function(t,e,i,s,n,a){var r=this.canvases.scale.renderText(0,0,a,"dhx_axis_radar_title",1),h=r.scrollWidth,o=r.offsetHeight,l=.001,d=this._getPositionByAngle(n,e,i,s+5),c=0,u=0;(0>n||n>Math.PI)&&(u=-o),n>Math.PI/2&&(c=-h),Math.abs(n+Math.PI/2)<l||Math.abs(n-Math.PI/2)<l?c=-h/2:(Math.abs(n)<l||Math.abs(n-Math.PI)<l)&&(u=-o/2),r.style.top=d.y+u+"px",r.style.left=d.x+c+"px",r.style.width=h+"px",r.style.whiteSpace="nowrap"}},dhtmlx.chart.area={pvt_render_area:function(t,e,i,s,n,a){var r,h,o,l,d,c,u,f,_,g,m,x,p,v,y;if(c=this._calculateLineParams(t,e,i,s,n),h=this._settings,l=h.eventRadius||Math.floor(c.cellWidth/2),e.length){for(u=[],g=h.offset?i.x+.5*c.cellWidth:i.x,o=0;o<e.length;o++)if(d=e[o],_=this._getPointY(d,i,s,c),p=g+c.cellWidth*o,_){if(v="object"==typeof _?_.y0:_,o&&this._settings.fixOverflow){if(f=this._getPointY(e[o-1],i,s,c),f.out&&f.out==_.out)continue;m=c.cellWidth*(o-1)-.5+g,x="object"==typeof f?f.y0:f,f.out&&(y="min"==f.out?s.y:i.y,u.push([this._calcOverflowX(m,p,x,v,y),y])),_.out&&(y="min"==_.out?s.y:i.y,u.push([this._calcOverflowX(m,p,x,v,y),y]),o==e.length-1&&y==i.y&&u.push([p,i.y]))}_.out||(u.push([p,v]),a.addRect(d.id,[p-l-i.x,v-l-i.y,p+l-i.x,v+l-i.y],n)),h.yAxis||(r=h.offset||o!=e.length-1?"center":"left",this.canvases[n].renderTextAt(!1,r,p,v-h.labelOffset,h.label(d)))}u.length&&(u.push([p,s.y]),u.push([u[0][0],s.y])),t.globalAlpha=this._settings.alpha.call(this,e[0]),t.fillStyle=this._settings.color.call(this,e[0]),t.beginPath(),this._path(t,u),t.fill(),h.border&&(t.lineWidth=h.borderWidth||1,h.borderColor?t.strokeStyle=h.borderColor.call(this,e[0]):this._setBorderStyles(t,t.fillStyle),t.beginPath(),this._path(t,u),t.stroke()),t.lineWidth=1,t.globalAlpha=1}}},dhtmlx.chart.stackedArea={pvt_render_stackedArea:function(t,e,i,s,n,a){var r,h,o,l,d,c,u,f,_,g,m,x,p,v;if(g=this._calculateLineParams(t,e,i,s,n),l=this._settings,f=l.eventRadius||Math.floor(g.cellWidth/2),e.length){m=[],v=[],x=l.offset?i.x+.5*g.cellWidth:i.x;var y=function(t,i){return n?e[t].$startY?i-s.y+e[t].$startY:0:i},b=function(t,e,i){var s=(i.y-e.y)/(i.x-e.x);return s*t+e.y-s*e.x};for(d=0;d<e.length;d++)_=e[d],d?x+=g.cellWidth:(p=y(d,s.y),m.push([x,p])),p=y(d,this._getPointY(_,i,s,g)),v.push(isNaN(p)&&!d?e[d].$startY||s.y:p),p&&(m.push([x,p]),a.addRect(_.id,[x-f-i.x,p-f-i.y,x+f-i.x,p+f-i.y],n),l.yAxis||(o=!l.offset&&u?"left":"center",this.canvases[n].renderTextAt(!1,o,x,p-l.labelOffset,l.label(_))));if(m.push([x,y(d-1,s.y)]),n)for(d=e.length-2;d>0;d--)x-=g.cellWidth,p=e[d].$startY,p&&m.push([x,p]);for(m.push([m[0][0],m[0][1]]),t.globalAlpha=this._settings.alpha.call(this,e[0]),t.fillStyle=this._settings.color.call(this,e[0]),t.beginPath(),this._path(t,m),t.fill(),d=0;d<e.length;d++){if(p=v[d],!p)for(d==e.length-1&&(p=e[d].$startY),c=d+1;c<e.length;c++)if(v[c]){r={x:i.x,y:v[0]},h={x:i.x+g.cellWidth*c,y:v[c]},p=b(i.x+g.cellWidth*d,r,h);break}e[d].$startY=p}}}},dhtmlx.chart.spline={pvt_render_spline:function(t,e,i,s,n,a){var r,h,o,l,d,c,u,f,_,g,m,x,p;if(d=this._calculateLineParams(t,e,i,s,n),r=this._settings,this._mapStart=i,o=[],e.length){for(f=r.offset?i.x+.5*d.cellWidth:i.x,h=0;h<e.length;h++)m=this._getPointY(e[h],i,s,d),m&&(u=h?d.cellWidth*h-.5+f:f,o.push({x:u,y:m,index:h}));for(c=this._getSplineParameters(o),h=0;h<o.length;h++){if(_=o[h].x,x=o[h].y,h<o.length-1){for(g=o[h+1].x,p=o[h+1].y,l=_;g>l;l++){var v=this._getSplineYPoint(l,_,h,c.a,c.b,c.c,c.d);v<i.y&&(v=i.y),v>s.y&&(v=s.y);var y=this._getSplineYPoint(l+1,_,h,c.a,c.b,c.c,c.d);y<i.y&&(y=i.y),y>s.y&&(y=s.y),this._drawLine(t,l,v,l+1,y,r.line.color(e[h]),r.line.width)}this._drawLine(t,g-1,this._getSplineYPoint(l,_,h,c.a,c.b,c.c,c.d),g,p,r.line.color(e[h]),r.line.width)}this._drawItem(t,_,x,e[o[h].index],r.label(e[o[h].index]),n,a)}}},_getSplineParameters:function(t){var e,i,s,n,a,r,h,o,l=[],d=[],c=t.length;for(e=0;c-1>e;e++)l[e]=t[e+1].x-t[e].x,d[e]=(t[e+1].y-t[e].y)/l[e];for(i=[],s=[],i[0]=0,i[1]=2*(l[0]+l[1]),s[0]=0,s[1]=6*(d[1]-d[0]),e=2;c-1>e;e++)i[e]=2*(l[e-1]+l[e])-l[e-1]*l[e-1]/i[e-1],s[e]=6*(d[e]-d[e-1])-l[e-1]*s[e-1]/i[e-1];for(n=[],n[c-1]=n[0]=0,e=c-2;e>=1;e--)n[e]=(s[e]-l[e]*n[e+1])/i[e];for(a=[],r=[],h=[],o=[],e=0;c-1>e;e++)a[e]=t[e].y,r[e]=-l[e]*n[e+1]/6-l[e]*n[e]/3+(t[e+1].y-t[e].y)/l[e],h[e]=n[e]/2,o[e]=(n[e+1]-n[e])/(6*l[e]);return{a:a,b:r,c:h,d:o}},_getSplineYPoint:function(t,e,i,s,n,a,r){return s[i]+(t-e)*(n[i]+(t-e)*(a[i]+(t-e)*r[i]))}},dhtmlx.chart.barH={pvt_render_barH:function(t,e,i,s,n,a){var r,h,o,l,d,c,u,f,_,g,m,x,p,v,y,b,w,A,M,S,T;for(o=(s.y-i.y)/e.length,u=this._getLimits("h"),f=u.max,_=u.min,b=s.x-i.x,T=!!this._settings.yAxis,n||this._drawHScales(t,e,i,s,_,f,o),T&&(f=parseFloat(this._settings.xAxis.end),_=parseFloat(this._settings.xAxis.start)),v=this._getRelativeValue(_,f),x=v[0],m=v[1],A=x?b/x:10,T||(y=10,A=x?(b-y)/x:10),h=parseInt(this._settings.width,10),h*this._series.length+4>o&&(h=o/this._series.length-4),r=Math.floor((o-h*this._series.length)/2),p="undefined"!=typeof this._settings.radius?parseInt(this._settings.radius,10):Math.round(h/5),g=!1,d=this._settings.gradient,d&&"function"!=typeof d?(g=d,d=!1):d&&(d=t.createLinearGradient(i.x,i.y,s.x,i.y),this._settings.gradient(d)),T||this._drawLine(t,i.x-.5,i.y,i.x-.5,s.y,"#000000",1),c=0;c<e.length;c++)if(w=parseFloat(this._settings.value(e[c]||0)),w>f&&(w=f),w-=_,w*=m,M=i.x,S=i.y+r+c*o+(h+1)*n,0>w&&"auto"==this._settings.origin||this._settings.xAxis&&0===w&&!("auto"!=this._settings.origin&&this._settings.origin>_))this.canvases[n].renderTextAt("middle","right",M+10,S+h/2+r,this._settings.label(e[c]));else{0>w&&"auto"!=this._settings.origin&&this._settings.origin>_&&(w=0),T||(w+=y/A),l=d||this._settings.color.call(this,e[c]),this._settings.border&&this._drawBarHBorder(t,M,S,h,_,p,A,w,l),t.globalAlpha=this._settings.alpha.call(this,e[c]);var C=this._drawBarH(t,s,M,S,h,_,p,A,w,l,d,g);0!=g&&this._drawBarHGradient(t,M,S,h,_,p,A,w,l,g),t.globalAlpha=1,C[3]==S?(this.canvases[n].renderTextAt("middle","left",C[0]-5,C[3]+Math.floor(h/2),this._settings.label(e[c])),a.addRect(e[c].id,[C[0]-i.x,C[3]-i.y,C[2]-i.x,C[3]+h-i.y],n)):(this.canvases[n].renderTextAt("middle",!1,C[2]+5,C[1]+Math.floor(h/2),this._settings.label(e[c])),a.addRect(e[c].id,[C[0]-i.x,S-i.y,C[2]-i.x,C[3]-i.y],n))}},_setBarHPoints:function(t,e,i,s,n,a,r,h,o){var l=0;if(n>a*r){var d=(n-a*r)/n;l=-Math.asin(d)+Math.PI/2}t.moveTo(e,i+h);var c=e+a*r-n-(n?0:h);a*r>n&&t.lineTo(c,i+h);var u=i+n;n&&n>0&&t.arc(c,u,n-h,-Math.PI/2+l,0,!1);var f=i+s-n-(n?0:h),_=c+n-(n?h:0);t.lineTo(_,f),n&&n>0&&t.arc(c,f,n-h,0,Math.PI/2-l,!1);var g=i+s-h;return t.lineTo(e,g),o||t.lineTo(e,i+h),[_,g]},_drawHScales:function(t,e,i,s,n,a,r){var h=0;this._settings.xAxis&&(this.canvases.x||(this.canvases.x=new dhtmlx.ui.Canvas(this._obj)),h=this._drawHXAxis(this.canvases.x.getCanvas(),e,i,s,n,a)),this._settings.yAxis&&(this.canvases.y||(this.canvases.y=new dhtmlx.ui.Canvas(this._obj)),this._drawHYAxis(this.canvases.y.getCanvas(),e,i,s,r,h))},_drawHYAxis:function(t,e,i,s,n,a){if(this._settings.yAxis){var r,h=parseInt(a?a:i.x,10)-.5,o=s.y+.5,l=i.y;this._drawLine(t,h,o,h,l,this._settings.yAxis.color,1);for(var d=0;d<e.length;d++){var c="auto"!=this._settings.origin&&"barH"==this._settings.view&&parseFloat(this._settings.value(e[d]))<this._settings.origin;r=l+n/2+d*n,this.canvases.y.renderTextAt("middle",c?!1:"left",c?h+5:h-5,r,this._settings.yAxis.template(e[d]),"dhx_axis_item_y",c?0:h-10),this._settings.yAxis.lines.call(this,e[d])&&this._drawLine(t,i.x,r,s.x,r,this._settings.yAxis.lineColor.call(this,e[d]),1)}this._drawLine(t,i.x+.5,l+.5,s.x,l+.5,this._settings.yAxis.lineColor.call(this,{}),1),this._setYAxisTitle(i,s)}},_drawHXAxis:function(t,e,i,s,n,a){var r,h={},o=this._settings.xAxis;if(o){var l=s.y+.5,d=i.x-.5,c=s.x-.5,u=i.x;if(this._drawLine(t,d,l,c,l,o.color,1),o.step&&(r=parseFloat(o.step)),("undefined"==typeof this._configXAxis.step||"undefined"==typeof this._configXAxis.start||"undefined"==typeof this._configXAxis.end)&&(h=this._calculateScale(n,a),n=h.start,a=h.end,r=h.step,this._settings.xAxis.end=a,this._settings.xAxis.start=n,this._settings.xAxis.step=r),0!==r){for(var f=(c-d)*r/(a-n),_=0,g=n;a>=g;g+=r){h.fixNum&&(g=parseFloat(new Number(g).toFixed(h.fixNum)));var m=Math.floor(d+_*f)+.5;g==n&&"auto"==this._settings.origin||!o.lines.call(this,g)||this._drawLine(t,m,l,m,i.y,this._settings.xAxis.lineColor.call(this,g),1),g==this._settings.origin&&(u=m+1),this.canvases.x.renderTextAt(!1,!0,m,l+2,o.template(g.toString()),"dhx_axis_item_x"),_++}return this.canvases.x.renderTextAt(!0,!1,d,s.y+this._settings.padding.bottom-3,this._settings.xAxis.title,"dhx_axis_title_x",s.x-i.x),o.lines.call(this,{})||this._drawLine(t,d,i.y-.5,c,i.y-.5,this._settings.xAxis.color,.2),u}}},_correctBarHParams:function(t,e,i,s,n,a,r){var h=this._settings.yAxis,o=e;return h&&"auto"!=this._settings.origin&&this._settings.origin>r&&(e+=(this._settings.origin-r)*n,o=e,s-=this._settings.origin-r,0>s&&(s*=-1,t.translate(e,i+a),t.rotate(Math.PI),e=.5,i=0),e+=.5),{value:s,x0:e,y0:i,start:o}},_drawBarH:function(t,e,i,s,n,a,r,h,o,l,d,c){t.save();var u=this._correctBarHParams(t,i,s,o,h,n,a);t.fillStyle=l,t.beginPath();var f=this._setBarHPoints(t,u.x0,u.y0,n,r,h,u.value,this._settings.border?1:0);d&&!c&&t.lineTo(e.x,u.y0+(this._settings.border?1:0)),t.fill(),t.restore();var _=u.y0,g=u.y0!=s?s:f[1],m=u.y0!=s?u.start-f[0]:u.start,x=u.y0!=s?u.start:f[0];return[m,_,x,g]},_drawBarHBorder:function(t,e,i,s,n,a,r,h,o){t.save();var l=this._correctBarHParams(t,e,i,h,r,s,n);t.beginPath(),this._setBorderStyles(t,o),t.globalAlpha=.9,this._setBarHPoints(t,l.x0,l.y0,s,a,r,l.value,t.lineWidth/2,1),t.stroke(),t.restore()},_drawBarHGradient:function(t,e,i,s,n,a,r,h,o,l){t.save();var d=this._correctBarHParams(t,e,i,h,r,s,n),c=this._setBarGradient(t,d.x0,d.y0+s,d.x0+r*d.value,d.y0,l,o,"x");t.fillStyle=c.gradient,t.beginPath(),this._setBarHPoints(t,d.x0,d.y0+c.offset,s-2*c.offset,a,r,d.value,c.offset),t.fill(),t.globalAlpha=1,t.restore()}},dhtmlx.assert(dhtmlx.chart.barH),dhtmlx.chart.stackedBarH={pvt_render_stackedBarH:function(t,e,i,s,n,a){var r,h,o,l,d=s.x-i.x,c=!!this._settings.yAxis,u=this._getStackedLimits(e);r=u.max,h=u.min;var f=Math.floor((s.y-i.y)/e.length);n||this._drawHScales(t,e,i,s,h,r,f),c&&(r=parseFloat(this._settings.xAxis.end),h=parseFloat(this._settings.xAxis.start));var _=this._getRelativeValue(h,r);l=_[0],o=_[1];var g=l?d/l:10;if(!c){var m=10;g=l?(d-m)/l:10}var x=parseInt(this._settings.width,10);x+4>f&&(x=f-4);var p=(f-x)/2,v=0,y=!1,b=this._settings.gradient;b&&(y=!0),c||this._drawLine(t,i.x-.5,i.y,i.x-.5,s.y,"#000000",1);var w=0,A=0;for(M=0;M<this._series.length;M++)M==n&&(A=w),"stackedBarH"==this._series[M].view&&w++;for(var M=0;M<e.length;M++){A||(e[M].$startX=i.x);var S=parseFloat(this._settings.value(e[M]||0));S>r&&(S=r),S-=h,S*=o;var T=i.x,C=i.y+p+M*f;if(A?T=e[M].$startX:e[M].$startX=T,0>S||this._settings.yAxis&&0===S)this.canvases.y.renderTextAt("middle",!0,T+10,C+x/2,this._settings.label(e[M]));else{c||(S+=m/g);var j=this._settings.color.call(this,e[M]);t.globalAlpha=this._settings.alpha.call(this,e[M]),t.fillStyle=this._settings.color.call(this,e[M]),t.beginPath();var I=this._setBarHPoints(t,T,C,x,v,g,S,this._settings.border?1:0);if(b&&!y&&t.lineTo(i.x+d,C+(this._settings.border?1:0)),t.fill(),0!=y){var P=this._setBarGradient(t,T,C+x,T,C,y,j,"x");t.fillStyle=P.gradient,t.beginPath(),I=this._setBarHPoints(t,T,C,x,v,g,S,0),t.fill()}this._settings.border&&this._drawBarHBorder(t,T,C,x,h,v,g,S,j),t.globalAlpha=1,this.canvases[n].renderTextAt("middle",!0,e[M].$startX+(I[0]-e[M].$startX)/2-1,C+(I[1]-C)/2,this._settings.label(e[M])),a.addRect(e[M].id,[e[M].$startX-i.x,C-i.y,I[0]-i.x,I[1]-i.y],n),e[M].$startX=I[0]}}}},dhtmlx.chart.stackedBar={pvt_render_stackedBar:function(t,e,i,s,n,a){var r,h,o,l,d=s.y-i.y,c=!!this._settings.yAxis,u=!!this._settings.xAxis,f=this._getStackedLimits(e);r=f.max,h=f.min;var _=Math.floor((s.x-i.x)/e.length);n||this._drawScales(e,i,s,h,r,_),c&&(r=parseFloat(this._settings.yAxis.end),h=parseFloat(this._settings.yAxis.start));var g=this._getRelativeValue(h,r);l=g[0],o=g[1];var m=l?d/l:10,x=parseInt(this._settings.width,10);x+4>_&&(x=_-4);var p=Math.floor((_-x)/2),v=this._settings.gradient?this._settings.gradient:!1;u||this._drawLine(t,i.x,s.y+.5,s.x,s.y+.5,"#000000",1);for(var y=0;y<e.length;y++){var b=parseFloat(this._settings.value(e[y]||0));if(b){n||(b-=h),b*=o;var w=i.x+p+y*_,A=s.y;if(n?A=e[y].$startY:e[y].$startY=A,!(A<i.y+1))if(0>b||this._settings.yAxis&&0===b)this.canvases.y.renderTextAt(!0,!0,w+Math.floor(x/2),A,this._settings.label(e[y]));else{var M=this._settings.color.call(this,e[y]);t.globalAlpha=this._settings.alpha.call(this,e[y]),t.fillStyle=this._settings.color.call(this,e[y]),t.beginPath();var S=this._setStakedBarPoints(t,w-(this._settings.border?.5:0),A,x+(this._settings.border?.5:0),m,b,0,i.y);if(t.fill(),v){t.save();var T=this._setBarGradient(t,w,A,w+x,S[1],v,M,"y");t.fillStyle=T.gradient,t.beginPath(),S=this._setStakedBarPoints(t,w+T.offset,A,x-2*T.offset,m,b,this._settings.border?1:0,i.y),t.fill(),t.restore()}this._settings.border&&(t.save(),this._setBorderStyles(t,M),t.beginPath(),this._setStakedBarPoints(t,w-.5,A,x+1,m,b,0,i.y,1),t.stroke(),t.restore()),t.globalAlpha=1,this.canvases[n].renderTextAt(!1,!0,w+Math.floor(x/2),S[1]+(A-S[1])/2-7,this._settings.label(e[y])),a.addRect(e[y].id,[w-i.x,S[1]-i.y,S[0]-i.x,(e[y].$startY||A)-i.y],n),e[y].$startY=this._settings.border?S[1]+1:S[1]}}else n&&e[y].$startY||(e[y].$startY=s.y)}},_setStakedBarPoints:function(t,e,i,s,n,a,r,h,o){t.moveTo(e,i);var l=i-n*a+r;h>l&&(l=h),t.lineTo(e,l);var d=e+s,c=l;t.lineTo(d,c);var u=e+s;return t.lineTo(u,i),o||t.lineTo(e,i),[u,c-2*r]
}},dhtmlx.chart.line={pvt_render_line:function(t,e,i,s,n,a){var r,h,o,l,d,c,u,f,_,g,m,x;if(l=this._calculateLineParams(t,e,i,s,n),r=this._settings,e.length){for(d=r.offset?i.x+.5*l.cellWidth:i.x,o=[],h=0;h<e.length;h++)if(x=this._getPointY(e[h],i,s,l)){if(u=h?l.cellWidth*h-.5+d:d,_="object"==typeof x?x.y0:x,h&&this._settings.fixOverflow){if(m=this._getPointY(e[h-1],i,s,l),m.out&&m.out==x.out)continue;c=l.cellWidth*(h-1)-.5+d,f="object"==typeof m?m.y0:m,m.out&&(g="min"==m.out?s.y:i.y,o.push({x:this._calcOverflowX(c,u,f,_,g),y:g})),x.out&&(g="min"==x.out?s.y:i.y,o.push({x:this._calcOverflowX(c,u,f,_,g),y:g}))}x.out||o.push({x:u,y:x,index:h})}for(this._mapStart=i,h=1;h<=o.length;h++)c=o[h-1].x,f=o[h-1].y,h<o.length&&(u=o[h].x,_=o[h].y,this._drawLine(t,c,f,u,_,r.line.color.call(this,e[h-1]),r.line.width),r.line&&r.line.shadow&&(t.globalAlpha=.3,this._drawLine(t,c+2,f+r.line.width+8,u+2,_+r.line.width+8,"#eeeeee",r.line.width+3),t.globalAlpha=1)),"undefined"!=typeof o[h-1].index&&this._drawItem(t,c,f,e[o[h-1].index],r.label(e[o[h-1].index]),n,a,i)}},_calcOverflowX:function(t,e,i,s,n){return t+(n-i)*(e-t)/(s-i)},_drawItem:function(t,e,i,s,n,a,r){var h=this._settings.item,o=parseInt(h.radius.call(this,s),10)||0,l=this._mapStart;if(o){if(t.save(),h.shadow){t.lineWidth=1,t.strokeStyle="#bdbdbd",t.fillStyle="#bdbdbd";for(var d=[.1,.2,.3],c=d.length-1;c>=0;c--)t.globalAlpha=d[c],t.strokeStyle="#d0d0d0",t.beginPath(),this._strokeChartItem(t,e,i+2*o/3,o+c+1,h.type),t.stroke();t.beginPath(),t.globalAlpha=.3,t.fillStyle="#bdbdbd",this._strokeChartItem(t,e,i+2*o/3,o+1,h.type),t.fill()}t.restore(),t.lineWidth=h.borderWidth,t.fillStyle=h.color.call(this,s),t.strokeStyle=h.borderColor.call(this,s),t.globalAlpha=h.alpha.call(this,s),t.beginPath(),this._strokeChartItem(t,e,i,o+1,h.type),t.fill(),t.stroke(),t.globalAlpha=1}n&&this.canvases[a].renderTextAt(!1,!0,e,i-o-this._settings.labelOffset,this._settings.label.call(this,s));var u=this._settings.eventRadius||o+1;r.addRect(s.id,[e-u-l.x,i-u-l.y,e+u-l.x,i+u-l.y],a)},_strokeChartItem:function(t,e,i,s,n){var a=[];if(e=parseInt(e,10),i=parseInt(i,10),!n||"square"!=n&&"s"!=n)if(!n||"diamond"!=n&&"d"!=n)a=!n||"triangle"!=n&&"t"!=n?[[e,i,s,0,2*Math.PI,!0]]:[[e,i-s],[e+Math.sqrt(3)*s/2,i+s/2],[e-Math.sqrt(3)*s/2,i+s/2],[e,i-s]];else{var r=t.lineWidth>1?t.lineWidth*Math.sqrt(2)/4:0;a=[[e,i-s],[e+s,i],[e,i+s],[e-s,i],[e+r,i-s-r]]}else s*=Math.sqrt(2)/2,a=[[e-s-t.lineWidth/2,i-s],[e+s,i-s],[e+s,i+s],[e-s,i+s],[e-s,i-s]];this._path(t,a)},_getPointY:function(t,e,i,s){var n=s.minValue,a=s.maxValue,r=s.unit,h=s.valueFactor,o=this._settings.value(t),l=(parseFloat(o||0)-n)*h;this._settings.yAxis||(l+=s.startValue/r);var d=i.y-r*l;return!this._settings.fixOverflow||"line"!=this._settings.view&&"area"!=this._settings.view?(o>a&&(d=e.y),(0>l||n>o)&&(d=i.y)):o>a?d={y:e.y,y0:d,out:"max"}:(0>l||n>o)&&(d={y:i.y,y0:d,out:"min"}),d},_calculateLineParams:function(t,e,i,s,n){var a,r={};r.totalHeight=s.y-i.y,r.cellWidth=(s.x-i.x)/(this._settings.offset?e.length:e.length-1);var h=!!this._settings.yAxis,o=-1!=this._settings.view.indexOf("stacked")?this._getStackedLimits(e):this._getLimits();r.maxValue=o.max,r.minValue=o.min,n||this._drawScales(e,i,s,r.minValue,r.maxValue,r.cellWidth),h&&(r.maxValue=parseFloat(this._settings.yAxis.end),r.minValue=parseFloat(this._settings.yAxis.start));var l=this._getRelativeValue(r.minValue,r.maxValue);return a=l[0],r.valueFactor=l[1],r.unit=a?r.totalHeight/a:10,r.startValue=0,h||(r.startValue=10,r.unit!=r.totalHeight&&(r.unit=a?(r.totalHeight-r.startValue)/a:10)),r}},dhtmlx.chart.bar={pvt_render_bar:function(t,e,i,s,n,a){var r,h,o,l,d,c,u,f,_,g,m,x,p,v=s.y-i.y;p=!!this._settings.yAxis,x=!!this._settings.xAxis,l=this._getLimits(),d=l.max,c=l.min,h=(s.x-i.x)/e.length,n||"auto"!=this._settings.origin&&!p||this._drawScales(e,i,s,c,d,h),p&&(d=parseFloat(this._settings.yAxis.end),c=parseFloat(this._settings.yAxis.start)),_=this._getRelativeValue(c,d),u=_[0],f=_[1],m=u?v/u:u,p||"auto"!=this._settings.origin&&x||(g=10,m=u?(v-g)/u:g),!n&&"auto"!=this._settings.origin&&!p&&this._settings.origin>c&&this._drawXAxis(t,e,i,s,h,s.y-m*(this._settings.origin-c)),r=parseInt(this._settings.width,10);var y=0,b=0;for(o=0;o<this._series.length;o++)o==n&&(b=y),"bar"==this._series[o].view&&y++;this._series&&r*y+4>h&&(r=parseInt(h/y-4,10));var w=(h-r*y)/2,A="undefined"!=typeof this._settings.radius?parseInt(this._settings.radius,10):Math.round(r/5),M=!1,S=this._settings.gradient;for(S&&"function"!=typeof S?(M=S,S=!1):S&&(S=t.createLinearGradient(0,s.y,0,i.y),this._settings.gradient(S)),x||this._drawLine(t,i.x,s.y+.5,s.x,s.y+.5,"#000000",1),o=0;o<e.length;o++){var T=parseFloat(this._settings.value(e[o])||0);if(!isNaN(T)){T>d&&(T=d),T-=c,T*=f;var C=i.x+w+parseInt(o*h,10)+(r+1)*b,j=s.y;if(0>T||this._settings.yAxis&&0===T&&!("auto"!=this._settings.origin&&this._settings.origin>c))this.canvases[n].renderTextAt(!0,!0,C+Math.floor(r/2),j,this._settings.label(e[o]));else{p||"auto"!=this._settings.origin&&x||(T+=g/m);var I=S||this._settings.color.call(this,e[o]);t.globalAlpha=this._settings.alpha.call(this,e[o]);var P=this._drawBar(t,i,C,j,r,c,A,m,T,I,S,M);M&&this._drawBarGradient(t,C,j,r,c,A,m,T,I,M),this._settings.border&&this._drawBarBorder(t,C,j,r,c,A,m,T,I),t.globalAlpha=1,P[0]!=C?this.canvases[n].renderTextAt(!1,!0,C+Math.floor(r/2),P[1],this._settings.label(e[o])):this.canvases[n].renderTextAt(!0,!0,C+Math.floor(r/2),P[3],this._settings.label(e[o])),a.addRect(e[o].id,[C-i.x,P[3]-i.y,P[2]-i.x,P[1]-i.y],n)}}}},_correctBarParams:function(t,e,i,s,n,a,r){var h=this._settings.xAxis,o=i;return h&&"auto"!=this._settings.origin&&this._settings.origin>r&&(i-=(this._settings.origin-r)*n,o=i,s-=this._settings.origin-r,0>s&&(s*=-1,t.translate(e+a,i),t.rotate(Math.PI),e=0,i=0),i-=.5),{value:s,x0:e,y0:i,start:o}},_drawBar:function(t,e,i,s,n,a,r,h,o,l,d,c){t.save(),t.fillStyle=l;var u=this._correctBarParams(t,i,s,o,h,n,a),f=this._setBarPoints(t,u.x0,u.y0,n,r,h,u.value,this._settings.border?1:0);d&&!c&&t.lineTo(u.x0+(this._settings.border?1:0),e.y),t.fill(),t.restore();var _=u.x0,g=u.x0!=i?i+f[0]:f[0],m=u.x0!=i?u.start-f[1]-u.y0:u.y0,x=u.x0!=i?u.start-u.y0:f[1];return[_,m,g,x]},_drawBarBorder:function(t,e,i,s,n,a,r,h,o){var l;t.save(),l=this._correctBarParams(t,e,i,h,r,s,n),this._setBorderStyles(t,o),this._setBarPoints(t,l.x0,l.y0,s,a,r,l.value,t.lineWidth/2,1),t.stroke(),t.restore()},_drawBarGradient:function(t,e,i,s,n,a,r,h,o,l){t.save();var d=this._correctBarParams(t,e,i,h,r,s,n),c=this._setBarGradient(t,d.x0,d.y0,d.x0+s,d.y0-r*d.value+2,l,o,"y"),u=this._settings.border?1:0;t.fillStyle=c.gradient,this._setBarPoints(t,d.x0+c.offset,d.y0,s-2*c.offset,a,r,d.value,c.offset+u),t.fill(),t.restore()},_setBarPoints:function(t,e,i,s,n,a,r,h,o){t.beginPath();var l=0;if(n>a*r){var d=(n-a*r)/n;1>=d&&d>=-1&&(l=-Math.acos(d)+Math.PI/2)}t.moveTo(e+h,i);var c=i-Math.floor(a*r)+n+(n?0:h);a*r>n&&t.lineTo(e+h,c);var u=e+n;n&&n>0&&t.arc(u,c,n-h,-Math.PI+l,-Math.PI/2,!1);var f=e+s-n-h,_=c-n+(n?h:0);t.lineTo(f,_),n&&n>0&&t.arc(f,c,n-h,-Math.PI/2,0-l,!1);var g=e+s-h;return t.lineTo(g,i),o||t.lineTo(e+h,i),[g,_]}},dhtmlx.chart.pie={pvt_render_pie:function(t,e,i,s,n,a){this._renderPie(t,e,i,s,1,a,n)},_renderPie:function(t,e,i,s,n,a,r){if(e.length){var h=this._getPieParameters(i,s),o=this._settings.radius?this._settings.radius:h.radius;if(!(0>o)){var l=this._getValues(e),d=this._getTotalValue(l),c=this._getRatios(l,d),u=this._settings.x?this._settings.x:h.x,f=this._settings.y?this._settings.y:h.y;1==n&&this._settings.shadow&&this._addShadow(t,u,f,o),f/=n;var _=-Math.PI/2,g=[];if(t.scale(1,n),this._settings.gradient){var m=1!=n?u+o/3:u,x=1!=n?f+o/3:f;this._showRadialGradient(t,u,f,o,m,x)}for(var p=0;p<e.length;p++)if(l[p]){t.strokeStyle=this._settings.lineColor.call(this,e[p]),t.beginPath(),t.moveTo(u,f),g.push(_),alpha1=-Math.PI/2+c[p]-1e-4,t.arc(u,f,o,_,alpha1,!1),t.lineTo(u,f);var v=this._settings.color.call(this,e[p]);t.fillStyle=v,t.fill(),this._settings.pieInnerText&&this._drawSectorLabel(u,f,5*o/6,_,alpha1,n,this._settings.pieInnerText(e[p],d),!0),this._settings.label&&this._drawSectorLabel(u,f,o+this._settings.labelOffset,_,alpha1,n,this._settings.label(e[p])),1!=n&&(this._createLowerSector(t,u,f,_,alpha1,o,!0),t.fillStyle="#000000",t.globalAlpha=.2,this._createLowerSector(t,u,f,_,alpha1,o,!1),t.globalAlpha=1,t.fillStyle=v),a.addSector(e[p].id,_,alpha1,u-i.x,f-i.y/n,o,n,r),_=alpha1}t.globalAlpha=.8;var y;for(p=0;p<g.length;p++)y=this._getPositionByAngle(g[p],u,f,o),this._drawLine(t,u,f,y.x,y.y,this._settings.lineColor.call(this,e[p]),2);1==n&&(t.lineWidth=2,t.strokeStyle="#ffffff",t.beginPath(),t.arc(u,f,o+1,0,2*Math.PI,!1),t.stroke()),t.globalAlpha=1,t.scale(1,1/n)}}},_getValues:function(t){for(var e=[],i=0;i<t.length;i++)e.push(parseFloat(this._settings.value(t[i])||0));return e},_getTotalValue:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i];return e},_getRatios:function(t,e){var i,s=[],n=0;e=e||this._getTotalValue(t);for(var a=0;a<t.length;a++)i=t[a],s[a]=2*Math.PI*(e?(i+n)/e:1/t.length),n+=i;return s},_getPieParameters:function(t,e){var i=e.x-t.x,s=e.y-t.y,n=t.x+i/2,a=t.y+s/2,r=Math.min(i/2,s/2);return{x:n,y:a,radius:r}},_createLowerSector:function(t,e,i,s,n,a,r){if(t.lineWidth=1,0>=s&&n>=0||s>=0&&n<=Math.PI||Math.abs(s-Math.PI)>.003&&s<=Math.PI&&n>=Math.PI){0>=s&&n>=0&&(s=0,r=!1,this._drawSectorLine(t,e,i,a,s,n)),s<=Math.PI&&n>=Math.PI&&(n=Math.PI,r=!1,this._drawSectorLine(t,e,i,a,s,n));var h=(this._settings.height||Math.floor(a/4))/this._settings.cant;t.beginPath(),t.arc(e,i,a,s,n,!1),t.lineTo(e+a*Math.cos(n),i+a*Math.sin(n)+h),t.arc(e,i+h,a,n,s,!0),t.lineTo(e+a*Math.cos(s),i+a*Math.sin(s)),t.fill(),r&&t.stroke()}},_drawSectorLine:function(t,e,i,s,n,a){t.beginPath(),t.arc(e,i,s,n,a,!1),t.stroke()},_addShadow:function(t,e,i,s){t.globalAlpha=.5;for(var n=["#c4c4c4","#c6c6c6","#cacaca","#dcdcdc","#dddddd","#e0e0e0","#eeeeee","#f5f5f5","#f8f8f8"],a=n.length-1;a>-1;a--)t.beginPath(),t.fillStyle=n[a],t.arc(e+1,i+1,s+a,0,2*Math.PI,!0),t.fill();t.globalAlpha=1},_getGrayGradient:function(t){return t.addColorStop(0,"#ffffff"),t.addColorStop(.7,"#7a7a7a"),t.addColorStop(1,"#000000"),t},_showRadialGradient:function(t,e,i,s,n,a){t.beginPath();var r;"function"!=typeof this._settings.gradient?(r=t.createRadialGradient(n,a,s/4,e,i,s),r=this._getGrayGradient(r)):r=this._settings.gradient(r),t.fillStyle=r,t.arc(e,i,s,0,2*Math.PI,!0),t.fill(),t.globalAlpha=.7},_drawSectorLabel:function(t,e,i,s,n,a,r,h){var o=this.canvases[0].renderText(0,0,r,0,1);if(o){var l=o.scrollWidth;o.style.width=l+"px",l>t&&(l=t);var d=.2>n-s?4:8;h&&(d=l/1.8);var c=s+(n-s)/2;i-=(d-8)/2;var u=-d,f=-8,_="right";(c>=Math.PI/2&&c<Math.PI||c<=3*Math.PI/2&&c>=Math.PI)&&(u=-l-u+1,_="left");var g=0;!h&&1>a&&c>0&&c<Math.PI&&(g=(this._settings.height||Math.floor(i/4))/a);var m=(e+Math.floor((i+g)*Math.sin(c)))*a+f,x=t+Math.floor((i+d/2)*Math.cos(c))+u,p=n<Math.PI/2+.01,v=s<Math.PI/2;v&&p?x=Math.max(x,t+3):v||p?!h&&(c>=Math.PI/2&&c<Math.PI||c<=3*Math.PI/2&&c>=Math.PI)&&(x+=l/3):x=Math.min(x,t-l),o.style.top=m+"px",o.style.left=x+"px",o.style.width=l+"px",o.style.textAlign=_,o.style.whiteSpace="nowrap"}}},dhtmlx.chart.pie3D={pvt_render_pie3D:function(t,e,i,s,n,a){this._renderPie(t,e,i,s,this._settings.cant,a)}},dhtmlx.chart.donut={pvt_render_donut:function(t,e,i,s,n,a){if(e.length){this._renderPie(t,e,i,s,1,a);var r=this._settings,h=this._getPieParameters(i,s),o=r.radius?r.radius:h.radius,l=r.innerRadius&&r.innerRadius<o?r.innerRadius:o/3,d=r.x?r.x:h.x,c=r.y?r.y:h.y;t.fillStyle="#ffffff",t.beginPath(),t.arc(d,c,l,0,2*Math.PI,!0),t.fill()}}},dhtmlx.DataDriver.dhtmlxgrid={_grid_getter:"_get_cell_value",toObject:function(t){return this._grid=t,t},getRecords:function(t){return t.rowsBuffer},getDetails:function(t){for(var e={},i=0;i<this._grid.getColumnsNum();i++)e["data"+i]=this._grid[this._grid_getter](t,i);return e},getInfo:function(){return{_size:0,_from:0}}},dhtmlx.ui.Canvas=function(t,e,i){this._canvas_labels=[],this._canvas_name=e,this._obj=t;var s=t.offsetWidth*(window.devicePixelRatio||1),n=t.offsetHeight*(window.devicePixelRatio||1),i=i||"";i+=";width:"+t.offsetWidth+"px;height:"+t.offsetHeight+"px;",this._prepareCanvas(e,i,s,n)},dhtmlx.ui.Canvas.prototype={_prepareCanvas:function(t,e,i,s){return this._canvas=dhtmlx.html.create("canvas",{width:i,height:s,canvas_id:t,style:e||""}),this._obj.appendChild(this._canvas),this._canvas.getContext||(dhtmlx._isIE?(dhtmlx.require("thirdparty/excanvas/excanvas.js"),G_vmlCanvasManager.init_(document),G_vmlCanvasManager.initElement(this._canvas)):dhtmlx.error("Canvas is not supported in the current browser")),this._canvas},getCanvas:function(t){var e=(this._canvas||this._prepareCanvas()).getContext(t||"2d");return this._webixDevicePixelRatio||(this._webixDevicePixelRatio=!0,e.scale(window.devicePixelRatio||1,window.devicePixelRatio||1)),e},_resizeCanvas:function(){if(this._canvas){var t=this._canvas.parentNode.offsetWidth,e=this._canvas.parentNode.offsetHeight;this._canvas.setAttribute("width",t*(window.devicePixelRatio||1)),this._canvas.setAttribute("height",e*(window.devicePixelRatio||1)),this._canvas.style.width=t+"px",this._canvas.style.height=e+"px",this._webixDevicePixelRatio=!1}},renderText:function(t,e,i,s,n){if(i){var a=dhtmlx.html.create("DIV",{"class":"dhx_canvas_text"+(s?" "+s:""),style:"left:"+t+"px; top:"+e+"px;"},i);return this._obj.appendChild(a),this._canvas_labels.push(a),n&&(a.style.width=n+"px"),a}},renderTextAt:function(t,e,i,s,n,a,r){var h=this.renderText.call(this,i,s,n,a,r);return h&&(t&&(h.style.top="middle"==t?parseInt(s-h.offsetHeight/2,10)+"px":s-h.offsetHeight+"px"),e&&(h.style.left="left"==e?i-h.offsetWidth+"px":parseInt(i-h.offsetWidth/2,10)+"px")),h},clearCanvas:function(t){var e,i=[];for(e=0;e<this._canvas_labels.length;e++)this._obj.removeChild(this._canvas_labels[e]);if(this._canvas_labels=[],!t&&this._obj._htmlmap){for(i=this._getMapAreas();i.length;)i[0].parentNode.removeChild(i[0]),i.splice(0,1);i=null,this._obj._htmlmap.getElementsByTagName("AREA").length||(this._obj._htmlmap.parentNode.removeChild(this._obj._htmlmap),this._obj._htmlmap=null)}this.getCanvas().clearRect(0,0,this._obj.offsetWidth*(window.devicePixelRatio||1),this._obj.offsetWidth*(window.devicePixelRatio||1))},toggleCanvas:function(){this._toggleCanvas("none"==this._canvas.style.display)},showCanvas:function(){this._toggleCanvas(!0)},hideCanvas:function(){this._toggleCanvas(!1)},_toggleCanvas:function(t){var e,i;for(i=0;i<this._canvas_labels.length;i++)this._canvas_labels[i].style.display=t?"":"none";if(this._obj._htmlmap)for(e=this._getMapAreas(),i=0;i<e.length;i++)t?e[i].removeAttribute("disabled"):e[i].setAttribute("disabled","true");this._canvas.style.display=t?"":"none"},_getMapAreas:function(){var t,e,i=[];for(t=this._obj._htmlmap.getElementsByTagName("AREA"),e=0;e<t.length;e++)t[e].getAttribute("userdata")==this._canvas_name&&i.push(t[e]);return i}},dhtmlXChart=function(t){this.name="Chart",this.version="3.0",dhtmlx.assert_enabled()&&this._assert(),dhtmlx.extend(this,dhtmlx.Settings),this._parseContainer(t,"dhx_chart"),dhtmlx.extend(this,dhtmlx.AtomDataLoader),dhtmlx.extend(this,dhtmlx.DataLoader),this.data.provideApi(this,!0),dhtmlx.extend(this,dhtmlx.EventSystem),dhtmlx.extend(this,dhtmlx.MouseEvents),dhtmlx.extend(this,dhtmlx.Destruction),dhtmlx.extend(this,dhtmlx.Group),dhtmlx.extend(this,dhtmlx.AutoTooltip);for(var e in dhtmlx.chart)dhtmlx.extend(this,dhtmlx.chart[e]);t.preset&&this.definePreset(t),this._parseSettings(t,this.defaults),this._series=[this._settings],this.data.attachEvent("onStoreUpdated",dhtmlx.bind(function(){this.render()},this)),this.attachEvent("onLocateData",this._switchSerie)},dhtmlXChart.prototype={_id:"dhx_area_id",on_click:{dhx_chart_legend_item:function(t,e,i){var s=i.getAttribute("series_id");if(this.callEvent("onLegendClick",[t,s,i])){var n=this._settings,a=n.legend.values,r=a&&"undefined"!=typeof a[s].toggle?a[s].toggle:n.legend.toggle;"undefined"!=typeof s&&this._series.length>1&&r&&(-1!=i.className.indexOf("hidden")?this.showSeries(s):this.hideSeries(s))}}},on_dblclick:{},on_mouse_move:{},bind:function(){dhx.BaseBind.legacyBind.apply(this,arguments)},sync:function(){dhx.BaseBind.legacySync.apply(this,arguments)},resize:function(){for(var t in this.canvases)this.canvases[t]._resizeCanvas();this.render()},view_setter:function(t){return dhtmlx.chart[t]||dhtmlx.error("Chart type extension is not loaded: "+t),"undefined"==typeof this._settings.offset&&(this._settings.offset=!("area"==t||"stackedArea"==t)),"radar"!=t||this._settings.yAxis||this.define("yAxis",{}),"scatter"==t&&(this._settings.yAxis||this.define("yAxis",{}),this._settings.xAxis||this.define("xAxis",{})),t},clearCanvas:function(){if(this.canvases&&"object"==typeof this.canvases)for(var t in this.canvases)this.canvases[t].clearCanvas()},render:function(){var t,e,i,s,n;if(this.callEvent("onBeforeRender",[this.data])){if(this.canvases&&"object"==typeof this.canvases)for(e in this.canvases)this.canvases[e].clearCanvas();else this.canvases={};for(this._settings.legend&&(this.canvases.legend||(this.canvases.legend=new dhtmlx.ui.Canvas(this._obj,"legend")),this._drawLegend(this.data.getRange(),this._obj.offsetWidth)),t=this._getChartBounds(this._obj.offsetWidth,this._obj.offsetHeight),s=new dhtmlx.ui.Map(this._id),n=this._settings,i=this._getChartData(),e=0;e<this._series.length;e++)this._settings=this._series[e],this.canvases[e]||(this.canvases[e]=new dhtmlx.ui.Canvas(this._obj,e,"z-index:"+(2+e))),this["pvt_render_"+this._settings.view](this.canvases[e].getCanvas(),i,t.start,t.end,e,s);s.render(this._obj),this._obj.lastChild.style.zIndex=1e3,this._applyBounds(this._obj.lastChild,t),this.callEvent("onAfterRender",[]),this._settings=n}},_applyBounds:function(t,e){var i={};i.left=e.start.x,i.top=e.start.y,i.width=e.end.x-e.start.x,i.height=e.end.y-e.start.y;for(var s in i)t.style[s]=i[s]+"px"},_getChartData:function(){var t,e,i,s,n,a,r,h,o,l;if(s=this.data.getRange(),t=-1!=this._settings.view.toLowerCase().indexOf("barh")?"yAxis":"xAxis",e=this._settings[t],e&&e.units&&"object"==typeof e.units){if(i=e.units,h=[],"undefined"!=typeof i.start&&"undefined"!=typeof i.end&&"undefined"!=typeof i.next)for(r=i.start;r<=i.end;)h.push(r),r=i.next.call(this,r);else"[object Array]"===Object.prototype.toString.call(i)&&(h=i);if(a=[],h.length){for(o=e.value,l={},n=0;n<s.length;n++)l[o(s[n])]=n;for(n=0;n<h.length;n++)"undefined"!=typeof l[h[n]]?(s[l[h[n]]].$unit=h[n],a.push(s[l[h[n]]])):a.push({$unit:h[n]})}return a}return s},value_setter:dhtmlx.Template.obj_setter,xValue_setter:dhtmlx.Template.obj_setter,yValue_setter:function(t){this.define("value",t)},alpha_setter:dhtmlx.Template.obj_setter,label_setter:dhtmlx.Template.obj_setter,lineColor_setter:dhtmlx.Template.obj_setter,borderColor_setter:dhtmlx.Template.obj_setter,pieInnerText_setter:dhtmlx.Template.obj_setter,gradient_setter:function(t){return"function"!=typeof t&&t&&t===!0&&(t="light"),t},colormap:{RAINBOW:function(t){var e=Math.floor(this.indexById(t.id)/this.dataCount()*1536);return 1536==e&&(e-=1),this._rainbow[Math.floor(e/256)](e%256)}},color_setter:function(t){return this.colormap[t]||dhtmlx.Template.obj_setter(t)},fill_setter:function(t){return t&&0!=t?dhtmlx.Template.obj_setter(t):!1},definePreset:function(t){this.define("preset",t.preset),delete t.preset},preset_setter:function(t){var e,i,s;if(this.defaults=dhtmlx.extend({},this.defaults),"object"==typeof dhtmlx.presets.chart[t]){s=dhtmlx.presets.chart[t];for(e in s)if("object"==typeof s[e])if(this.defaults[e]&&"object"==typeof this.defaults[e]){this.defaults[e]=dhtmlx.extend({},this.defaults[e]);for(i in s[e])this.defaults[e][i]=s[e][i]}else this.defaults[e]=dhtmlx.extend({},s[e]);else this.defaults[e]=s[e];return t}return!1},legend_setter:function(t){return t?("object"!=typeof t&&(t={template:t}),this._mergeSettings(t,{width:150,height:18,layout:"y",align:"left",valign:"bottom",template:"",toggle:-1!=this._settings.view.toLowerCase().indexOf("stacked")?"":"hide",marker:{type:"square",width:15,height:15,radius:3},margin:4,padding:3}),t.template=dhtmlx.Template.setter(t.template),t):(this.legendObj&&(this.legendObj.innerHTML="",this.legendObj=null),!1)},defaults:{color:"RAINBOW",alpha:"1",label:!1,value:"{obj.value}",padding:{},view:"pie",lineColor:"#ffffff",cant:.5,width:30,labelWidth:100,line:{width:2,color:"#1293f8"},item:{radius:3,borderColor:"#636363",borderWidth:1,color:"#ffffff",alpha:1,type:"r",shadow:!1},shadow:!0,gradient:!1,border:!0,labelOffset:20,origin:"auto"},item_setter:function(t){"object"!=typeof t&&(t={color:t,borderColor:t}),this._mergeSettings(t,dhtmlx.extend({},this.defaults.item));for(var e=["alpha","borderColor","color","radius"],i=0;i<e.length;i++)t[e[i]]=dhtmlx.Template.setter(t[e[i]]);return t},line_setter:function(t){return"object"!=typeof t&&(t={color:t}),dhtmlx.extend(this.defaults.line,t),t=dhtmlx.extend({},this.defaults.line),t.color=dhtmlx.Template.setter(t.color),t},padding_setter:function(t){return"object"!=typeof t&&(t={left:t,right:t,top:t,bottom:t}),this._mergeSettings(t,{left:50,right:20,top:35,bottom:40}),t},xAxis_setter:function(t){if(!t)return!1;"object"!=typeof t&&(t={template:t}),t.value||(t.value=t.template),this._mergeSettings(t,{title:"",color:"#000000",lineColor:"#cfcfcf",template:"{obj}",value:"{obj}",lines:!0});var e=["lineColor","template","lines","value"];return this._converToTemplate(e,t),this._configXAxis=dhtmlx.extend({},t),t},yAxis_setter:function(t){this._mergeSettings(t,{title:"",color:"#000000",lineColor:"#cfcfcf",template:"{obj}",lines:!0,bg:"#ffffff"});var e=["lineColor","template","lines","bg"];return this._converToTemplate(e,t),this._configYAxis=dhtmlx.extend({},t),t},_converToTemplate:function(t,e){for(var i=0;i<t.length;i++)e[t[i]]=dhtmlx.Template.setter(e[t[i]])},_drawScales:function(t,e,i,s,n,a){var r=0;return this._settings.yAxis&&(this.canvases.y||(this.canvases.y=new dhtmlx.ui.Canvas(this._obj,"axis_y")),r=this._drawYAxis(this.canvases.y.getCanvas(),t,e,i,s,n)),this._settings.xAxis&&(this.canvases.x||(this.canvases.x=new dhtmlx.ui.Canvas(this._obj,"axis_x")),this._drawXAxis(this.canvases.x.getCanvas(),t,e,i,a,r)),r},_drawXAxis:function(t,e,i,s,n,a){for(var r,h=i.x-.5,o=parseInt(a?a:s.y,10)+.5,l=s.x,d=!0,c=0;c<e.length;c++){this._settings.offset===!0?r=h+n/2+c*n:(r=c==e.length-1?s.x:h+c*n,d=!!c),r=Math.ceil(r)-.5;var u="auto"!=this._settings.origin&&"bar"==this._settings.view&&parseFloat(this._settings.value(e[c]))<this._settings.origin;this._drawXAxisLabel(r,o,e[c],d,u),(this._settings.offset||c)&&this._settings.xAxis.lines.call(this,e[c])&&this._drawXAxisLine(t,r,s.y,i.y,e[c])}this.canvases.x.renderTextAt(!0,!1,h,s.y+this._settings.padding.bottom-3,this._settings.xAxis.title,"dhx_axis_title_x",s.x-i.x),this._drawLine(t,h,o,l,o,this._settings.xAxis.color,1),this._settings.xAxis.lines.call(this,{})&&this._settings.offset&&this._drawLine(t,l+.5,s.y,l+.5,i.y+.5,this._settings.xAxis.color,.2)},_drawYAxis:function(t,e,i,s,n,a){var r,h={};if(this._settings.yAxis){var o=i.x-.5,l=s.y,d=i.y,c=s.y;this._settings.yAxis.step&&(r=parseFloat(this._settings.yAxis.step)),("undefined"==typeof this._configYAxis.step||"undefined"==typeof this._configYAxis.start||"undefined"==typeof this._configYAxis.end)&&(h=this._calculateScale(n,a),n=h.start,a=h.end,r=h.step,this._settings.yAxis.end=a,this._settings.yAxis.start=n),this._setYAxisTitle(i,s),0===r&&(a=n,r=1);for(var u=a==n?l-d:(l-d)*r/(a-n),f=0,_=n;a>=_;_+=r){h.fixNum&&(_=parseFloat(new Number(_).toFixed(h.fixNum)));var g=Math.floor(l-f*u)+.5;_==n&&"auto"==this._settings.origin||!this._settings.yAxis.lines.call(this,_)||this._drawLine(t,o,g,s.x,g,this._settings.yAxis.lineColor.call(this,_),1),_==this._settings.origin&&(c=g);var m=_;if(1>r){var x=Math.min(this._log10(r),0>=n?0:this._log10(n)),p=Math.pow(10,-x);m=Math.round(_*p)/p,_=m}this.canvases.y.renderText(0,g-5,this._settings.yAxis.template(m.toString()),"dhx_axis_item_y",i.x-5),f++}return this._drawLine(t,o,l+1,o,d,this._settings.yAxis.color,1),c}},_setYAxisTitle:function(t,e){var i="dhx_axis_title_y"+(dhtmlx._isIE&&9!=dhtmlx._isIE?" dhx_ie_filter":""),s=this.canvases.y.renderTextAt("middle",!1,0,parseInt((e.y-t.y)/2+t.y,10),this._settings.yAxis.title,i);s&&(s.style.left=(dhtmlx.env.transform?(s.offsetHeight-s.offsetWidth)/2:0)+"px")},_calculateScale:function(t,e){"auto"!=this._settings.origin&&this._settings.origin<t&&(t=this._settings.origin);var i,s,n;i=(e-t)/8||1;var a=Math.floor(this._log10(i)),r=Math.pow(10,a),h=i/r;if(h=h>5?10:5,i=parseInt(h,10)*r,i>Math.abs(t))s=0>t?-i:0;else{var o=Math.abs(t),l=Math.floor(this._log10(o)),d=o/Math.pow(10,l);for(s=Math.ceil(10*d)/10*Math.pow(10,l)-i,o>1&&i>.1&&(s=Math.ceil(s));0>t?t>=s:s>=t;)s-=i;0>t&&(s=-s-2*i)}for(n=s;e>n;)n+=i,n=parseFloat(new Number(n).toFixed(Math.abs(a)));return{start:s,end:n,step:i,fixNum:Math.abs(a)}},_getLimits:function(t,e){var i,s,n=arguments.length&&"h"==t?this._configXAxis:this._configYAxis;if(e=e||"value",n&&"undefined"!=typeof n.end&&"undefined"!=typeof n.start&&n.step)i=parseFloat(n.end),s=parseFloat(n.start);else if(i=this.max(this._series[0][e]),s=n&&"undefined"!=typeof n.start?parseFloat(n.start):this.min(this._series[0][e]),this._series.length>1)for(var a=1;a<this._series.length;a++){var r=this.max(this._series[a][e]),h=this.min(this._series[a][e]);r>i&&(i=r),s>h&&(s=h)}return{max:i,min:s}},_log10:function(t){var e="log";return Math.floor(Math[e](t)/Math.LN10)},_drawXAxisLabel:function(t,e,i,s,n){if(this._settings.xAxis){var a=this.canvases.x.renderTextAt(n,s,t,e-(n?2:0),this._settings.xAxis.template(i));a&&(a.className+=" dhx_axis_item_x")}},_drawXAxisLine:function(t,e,i,s,n){this._settings.xAxis&&this._settings.xAxis.lines&&this._drawLine(t,e,i,e,s,this._settings.xAxis.lineColor.call(this,n),1)},_drawLine:function(t,e,i,s,n,a,r){t.strokeStyle=a,t.lineWidth=r,t.beginPath(),t.moveTo(e,i),t.lineTo(s,n),t.stroke(),t.lineWidth=1},_getRelativeValue:function(t,e){var i,s=1;return i=e!=t?e-t:t,[i,s]},_rainbow:[function(t){return"#FF"+dhtmlx.math.toHex(t/2,2)+"00"},function(t){return"#FF"+dhtmlx.math.toHex(t/2+128,2)+"00"},function(t){return"#"+dhtmlx.math.toHex(255-t,2)+"FF00"},function(t){return"#00FF"+dhtmlx.math.toHex(t,2)},function(t){return"#00"+dhtmlx.math.toHex(255-t,2)+"FF"},function(t){return"#"+dhtmlx.math.toHex(t,2)+"00FF"}],addSeries:function(t){var e=this._settings;this._settings=dhtmlx.extend({},e),this._parseSettings(t,{}),this._series.push(this._settings),this._settings=e},_switchSerie:function(t,e){var i;if(this._active_serie=e.getAttribute("userdata"),this._series[this._active_serie]){for(var s=0;s<this._series.length;s++)i=this._series[s].tooltip,i&&i.disable();e.getAttribute("disabled")||(i=this._series[this._active_serie].tooltip,i&&i.enable())}},hideSeries:function(t){this.canvases[t].hideCanvas(),this._settings.legend.values&&this._settings.legend.values[t]&&(this._settings.legend.values[t].$hidden=!0),this._drawLegend()},showSeries:function(t){this.canvases[t].showCanvas(),this._settings.legend.values&&this._settings.legend.values[t]&&delete this._settings.legend.values[t].$hidden,this._drawLegend()},_setBorderStyles:function(t,e){var i,s;s=dhtmlx.math.toRgb(e),i=dhtmlx.math.rgbToHsv(s[0],s[1],s[2]),i[2]/=2,e="rgb("+dhtmlx.math.hsvToRgb(i[0],i[1],i[2])+")",t.strokeStyle=e,1==t.globalAlpha&&(t.globalAlpha=.9)},_drawLegend:function(t,e){var i,s,n,a,r,h,o,l,d,c,u,f=0,_=0;if(t=t||[],e=e||this._obj.offsetWidth,l=this.canvases.legend.getCanvas(),s=this._settings.legend,o="x"!=this._settings.legend.layout?"width:"+s.width+"px":"",this.legendObj&&(this.legendObj.innerHTML="",this.legendObj.parentNode.removeChild(this.legendObj)),this.canvases.legend.clearCanvas(!0),n=dhtmlx.html.create("DIV",{"class":"dhx_chart_legend",style:"left:"+f+"px; top:"+_+"px;"+o},""),s.padding&&(n.style.padding=s.padding+"px"),this.legendObj=n,this._obj.appendChild(n),r=[],s.values)for(i=0;i<s.values.length;i++)r.push(this._drawLegendText(n,s.values[i].text,"undefined"!=typeof s.values[i].id?typeof s.values[i].id:i,s.values[i].$hidden));else for(i=0;i<t.length;i++)r.push(this._drawLegendText(n,s.template(t[i])));for(h=n.offsetWidth,a=n.offsetHeight,h<this._obj.offsetWidth&&("x"==s.layout&&"center"==s.align&&(f=(this._obj.offsetWidth-h)/2),"right"==s.align&&(f=this._obj.offsetWidth-h),s.margin&&"center"!=s.align&&(f+=("left"==s.align?1:-1)*s.margin)),a<this._obj.offsetHeight&&("middle"==s.valign&&"center"!=s.align&&"x"!=s.layout?_=(this._obj.offsetHeight-a)/2:"bottom"==s.valign&&(_=this._obj.offsetHeight-a),s.margin&&"middle"!=s.valign&&(_+=("top"==s.valign?1:-1)*s.margin)),n.style.left=f+"px",n.style.top=_+"px",l.save(),i=0;i<r.length;i++)u=r[i],s.values&&s.values[i].$hidden?(c=!0,d=s.values[i].disableColor?s.values[i].disableColor:"#d9d9d9"):(c=!1,d=s.values?s.values[i].color:this._settings.color.call(this,t[i])),this._drawLegendMarker(l,u.offsetLeft+f,u.offsetTop+_,d,u.offsetHeight,c,i);l.restore(),r=null},_drawLegendText:function(t,e,i,s){var n="";"x"==this._settings.legend.layout&&(n="float:left;");var a=dhtmlx.html.create("DIV",{style:n+"padding-left:"+(10+this._settings.legend.marker.width)+"px","class":"dhx_chart_legend_item"+(s?" hidden":"")},e);return arguments.length>2&&a.setAttribute("series_id",i),t.appendChild(a),a},_drawLegendMarker:function(t,e,i,s,n,a,r){var h=[],o=this._settings.legend.marker,l=this._settings.legend.values,d=l&&l[r].markerType?l[r].markerType:o.type;if(s&&(t.fillStyle=s,t.strokeStyle=s),t.beginPath(),"round"!=d&&o.radius)if("item"==d){if(this._settings.line&&"scatter"!=this._settings.view&&!this._settings.disableLines){t.beginPath(),t.lineWidth=this._series[r].line.width,t.strokeStyle=a?s:this._series[r].line.color.call(this,{});var c=e+5,u=i+n/2;t.moveTo(c,u);var f=c+o.width;t.lineTo(f,u),t.stroke()}var _=this._series[r].item,g=parseInt(_.radius.call(this,{}),10)||0;g&&(t.beginPath(),a?(t.lineWidth=_.borderWidth,t.strokeStyle=s,t.fillStyle=s):(t.lineWidth=_.borderWidth,t.fillStyle=_.color.call(this,{}),t.strokeStyle=_.borderColor.call(this,{}),t.globalAlpha=_.alpha.call(this,{})),t.beginPath(),e+=o.width/2+5,i+=n/2,this._strokeChartItem(t,e,i,g+1,_.type),t.fill(),t.stroke()),t.globalAlpha=1}else t.lineWidth=1,e+=5,i+=parseInt(n/2-o.height/2,10),h=[[e+o.radius,i+o.radius,o.radius,Math.PI,3*Math.PI/2,!1],[e+o.width-o.radius,i],[e+o.width-o.radius,i+o.radius,o.radius,-Math.PI/2,0,!1],[e+o.width,i+o.height-o.radius],[e+o.width-o.radius,i+o.height-o.radius,o.radius,0,Math.PI/2,!1],[e+o.radius,i+o.height],[e+o.radius,i+o.height-o.radius,o.radius,Math.PI/2,Math.PI,!1],[e,i+o.radius]],this._path(t,h);else{t.lineWidth=o.height,t.lineCap=d,e+=t.lineWidth/2+5,i+=n/2,t.moveTo(e,i);var f=e+o.width-o.height+1;t.lineTo(f,i)}t.stroke(),t.fill()},_getDarkenColor:function(t,e){var i,s;return s=dhtmlx.math.toRgb(t),i=dhtmlx.math.rgbToHsv(s[0],s[1],s[2]),i[2]=i[2]*e,"rgb("+dhtmlx.math.hsvToRgb(i[0],i[1],i[2])+")"},_getChartBounds:function(t,e){var i,s,n,a;if(i=this._settings.padding.left,s=this._settings.padding.top,n=t-this._settings.padding.right,a=e-this._settings.padding.bottom,this._settings.legend){var r=this._settings.legend,h=this._settings.legend.width,o=this._settings.legend.height;"x"==r.layout?"center"==r.valign?"right"==r.align?n-=h:"left"==r.align&&(i+=h):"bottom"==r.valign?a-=o:s+=o:"right"==r.align?n-=h:"left"==r.align&&(i+=h)}return{start:{x:i,y:s},end:{x:n,y:a}}},_getStackedLimits:function(t){var e,i,s,n,a;if(this._settings.yAxis&&"undefined"!=typeof this._settings.yAxis.end&&"undefined"!=typeof this._settings.yAxis.start&&this._settings.yAxis.step)s=parseFloat(this._settings.yAxis.end),n=parseFloat(this._settings.yAxis.start);else{for(e=0;e<t.length;e++)for(t[e].$sum=0,t[e].$min=1/0,i=0;i<this._series.length;i++)a=parseFloat(this._series[i].value(t[e])||0),isNaN(a)||(-1!=this._series[i].view.toLowerCase().indexOf("stacked")&&(t[e].$sum+=a),a<t[e].$min&&(t[e].$min=a));for(s=-(1/0),n=1/0,e=0;e<t.length;e++)t[e].$sum>s&&(s=t[e].$sum),t[e].$min<n&&(n=t[e].$min);n>0&&(n=0)
}return{max:s,min:n}},_setBarGradient:function(t,e,i,s,n,a,r,h){var o,l,d,c,u,f;return"light"==a?(o="x"==h?t.createLinearGradient(e,i,s,i):t.createLinearGradient(e,i,e,n),f=[[0,"#FFFFFF"],[.9,r],[1,r]],l=2):"falling"==a||"rising"==a?(o="x"==h?t.createLinearGradient(e,i,s,i):t.createLinearGradient(e,i,e,n),d=dhtmlx.math.toRgb(r),c=dhtmlx.math.rgbToHsv(d[0],d[1],d[2]),c[1]*=.5,u="rgb("+dhtmlx.math.hsvToRgb(c[0],c[1],c[2])+")","falling"==a?f=[[0,u],[.7,r],[1,r]]:"rising"==a&&(f=[[0,r],[.3,r],[1,u]]),l=0):(t.globalAlpha=.37,l=0,o="x"==h?t.createLinearGradient(e,n,e,i):t.createLinearGradient(e,i,s,i),f=[[0,"#9d9d9d"],[.3,"#e8e8e8"],[.45,"#ffffff"],[.55,"#ffffff"],[.7,"#e8e8e8"],[1,"#9d9d9d"]]),this._gradient(o,f),{gradient:o,offset:l}},_getPositionByAngle:function(t,e,i,s){return t*=-1,e+=Math.cos(t)*s,i-=Math.sin(t)*s,{x:e,y:i}},_gradient:function(t,e){for(var i=0;i<e.length;i++)t.addColorStop(e[i][0],e[i][1])},_path:function(t,e){var i,s;for(i=0;i<e.length;i++)s=i?"lineTo":"moveTo",e[i].length>2&&(s="arc"),t[s].apply(t,e[i])},_circle:function(t,e,i,s){t.arc(e,i,s,2*Math.PI,!0)},_addMapRect:function(t,e,i,s,n){t.addRect(e,[i[0].x-s.x,i[0].y-s.y,i[1].x-s.x,i[1].y-s.y],n)}},dhtmlx.compat("layout"),"undefined"!=typeof window.dhtmlXCellObject&&(dhtmlXCellObject.prototype.attachChart=function(t){this.callEvent("_onBeforeContentAttach",["chart"]);var e=document.createElement("DIV");return e.id="dhxChartObj_"+window.dhx4.newId(),e.style.width="100%",e.style.height="100%",document.body.appendChild(e),this._attachObject(e),t.container=e.id,this.dataType="chart",this.dataObj=new dhtmlXChart(t),this.dataObj.setSizes||(this.dataObj.setSizes=function(){this.resize?this.resize():this.render()}),this.dataObj});
/* lodash */
(function(){function n(n,t){if(n!==t){var r=n===n,e=t===t;if(n>t||!r||n===w&&e)return 1;if(t>n||!e||t===w&&r)return-1}return 0}function t(n,t,r){for(var e=n.length,u=r?e:-1;r?u--:++u<e;)if(t(n[u],u,n))return u;return-1}function r(n,t,r){if(t!==t)return p(n,r);r-=1;for(var e=n.length;++r<e;)if(n[r]===t)return r;return-1}function e(n){return"function"==typeof n||!1}function u(n){return"string"==typeof n?n:null==n?"":n+""}function o(n){return n.charCodeAt(0)}function i(n,t){for(var r=-1,e=n.length;++r<e&&-1<t.indexOf(n.charAt(r)););return r}function f(n,t){for(var r=n.length;r--&&-1<t.indexOf(n.charAt(r)););return r}function a(t,r){return n(t.a,r.a)||t.b-r.b}function c(n){return $n[n]}function l(n){return Ln[n]}function s(n){return"\\"+Mn[n]}function p(n,t,r){var e=n.length;for(t+=r?0:-1;r?t--:++t<e;){var u=n[t];if(u!==u)return t}return-1}function h(n){return!!n&&"object"==typeof n}function _(n){return 160>=n&&n>=9&&13>=n||32==n||160==n||5760==n||6158==n||n>=8192&&(8202>=n||8232==n||8233==n||8239==n||8287==n||12288==n||65279==n)}function v(n,t){for(var r=-1,e=n.length,u=-1,o=[];++r<e;)n[r]===t&&(n[r]=z,o[++u]=r);return o}function g(n){for(var t=-1,r=n.length;++t<r&&_(n.charCodeAt(t)););return t}function y(n){for(var t=n.length;t--&&_(n.charCodeAt(t)););return t}function d(n){return zn[n]}function m(_){function $n(n){if(h(n)&&!(To(n)||n instanceof Bn)){if(n instanceof zn)return n;if(Ge.call(n,"__chain__")&&Ge.call(n,"__wrapped__"))return Lr(n)}return new zn(n)}function Ln(){}function zn(n,t,r){this.__wrapped__=n,this.__actions__=r||[],this.__chain__=!!t}function Bn(n){this.__wrapped__=n,this.__actions__=null,this.__dir__=1,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=Iu,this.__views__=null}function Mn(){this.__data__={}}function Dn(n){var t=n?n.length:0;for(this.data={hash:du(null),set:new lu};t--;)this.push(n[t])}function Pn(n,t){var r=n.data;return("string"==typeof t||se(t)?r.set.has(t):r.hash[t])?0:-1}function qn(n,t){var r=-1,e=n.length;for(t||(t=Ue(e));++r<e;)t[r]=n[r];return t}function Kn(n,t){for(var r=-1,e=n.length;++r<e&&!1!==t(n[r],r,n););return n}function Vn(n,t){for(var r=-1,e=n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function Gn(n,t){for(var r=-1,e=n.length,u=-1,o=[];++r<e;){var i=n[r];t(i,r,n)&&(o[++u]=i)}return o}function Jn(n,t){for(var r=-1,e=n.length,u=Ue(e);++r<e;)u[r]=t(n[r],r,n);return u}function Xn(n,t,r,e){var u=-1,o=n.length;for(e&&o&&(r=n[++u]);++u<o;)r=t(r,n[u],u,n);return r}function Hn(n,t){for(var r=-1,e=n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function Qn(n,t){return n===w?t:n}function nt(n,t,r,e){return n!==w&&Ge.call(e,r)?n:t}function tt(n,t,r){var e=Ko(t);fu.apply(e,Zu(t));for(var u=-1,o=e.length;++u<o;){var i=e[u],f=n[i],a=r(f,t[i],i,n,t);(a===a?a===f:f!==f)&&(f!==w||i in n)||(n[i]=a)}return n}function rt(n,t){for(var r=-1,e=null==n,u=!e&&jr(n),o=u&&n.length,i=t.length,f=Ue(i);++r<i;){var a=t[r];f[r]=u?kr(a,o)?n[a]:w:e?w:n[a]}return f}function et(n,t,r){r||(r={});for(var e=-1,u=t.length;++e<u;){var o=t[e];r[o]=n[o]}return r}function ut(n,t,r){var e=typeof n;return"function"==e?t===w?n:zt(n,t,r):null==n?Re:"object"==e?wt(n):t===w?Te(n):bt(n,t)}function ot(n,t,r,e,u,o,i){var f;if(r&&(f=u?r(n,e,u):r(n)),f!==w)return f;if(!se(n))return n;if(e=To(n)){if(f=wr(n),!t)return qn(n,f)}else{var a=Xe.call(n),c=a==K;if(a!=Y&&a!=B&&(!c||u))return Nn[a]?xr(n,a,t):u?n:{};if(f=br(c?{}:n),!t)return $u(f,n)}for(o||(o=[]),i||(i=[]),u=o.length;u--;)if(o[u]==n)return i[u];return o.push(n),i.push(f),(e?Kn:ht)(n,function(e,u){f[u]=ot(e,t,r,u,n,o,i)}),f}function it(n,t,r){if("function"!=typeof n)throw new Pe(L);return su(function(){n.apply(w,r)},t)}function ft(n,t){var e=n?n.length:0,u=[];if(!e)return u;var o=-1,i=mr(),f=i==r,a=f&&200<=t.length?qu(t):null,c=t.length;a&&(i=Pn,f=!1,t=a);n:for(;++o<e;)if(a=n[o],f&&a===a){for(var l=c;l--;)if(t[l]===a)continue n;u.push(a)}else 0>i(t,a,0)&&u.push(a);return u}function at(n,t){var r=!0;return zu(n,function(n,e,u){return r=!!t(n,e,u)}),r}function ct(n,t){var r=[];return zu(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function lt(n,t,r,e){var u;return r(n,function(n,r,o){return t(n,r,o)?(u=e?r:n,!1):void 0}),u}function st(n,t,r){for(var e=-1,u=n.length,o=-1,i=[];++e<u;){var f=n[e];if(h(f)&&jr(f)&&(r||To(f)||ae(f))){t&&(f=st(f,t,r));for(var a=-1,c=f.length;++a<c;)i[++o]=f[a]}else r||(i[++o]=f)}return i}function pt(n,t){Mu(n,t,me)}function ht(n,t){return Mu(n,t,Ko)}function _t(n,t){return Du(n,t,Ko)}function vt(n,t){for(var r=-1,e=t.length,u=-1,o=[];++r<e;){var i=t[r];No(n[i])&&(o[++u]=i)}return o}function gt(n,t,r){if(null!=n){r!==w&&r in Fr(n)&&(t=[r]),r=-1;for(var e=t.length;null!=n&&++r<e;)n=n[t[r]];return r&&r==e?n:w}}function yt(n,t,r,e,u,o){if(n===t)return!0;var i=typeof n,f=typeof t;if("function"!=i&&"object"!=i&&"function"!=f&&"object"!=f||null==n||null==t)n=n!==n&&t!==t;else n:{var i=yt,f=To(n),a=To(t),c=M,l=M;f||(c=Xe.call(n),c==B?c=Y:c!=Y&&(f=ge(n))),a||(l=Xe.call(t),l==B?l=Y:l!=Y&&ge(t));var s=c==Y,a=l==Y,l=c==l;if(!l||f||s){if(!e&&(c=s&&Ge.call(n,"__wrapped__"),a=a&&Ge.call(t,"__wrapped__"),c||a)){n=i(c?n.value():n,a?t.value():t,r,e,u,o);break n}if(l){for(u||(u=[]),o||(o=[]),c=u.length;c--;)if(u[c]==n){n=o[c]==t;break n}u.push(n),o.push(t),n=(f?_r:gr)(n,t,i,r,e,u,o),u.pop(),o.pop()}else n=!1}else n=vr(n,t,c)}return n}function dt(n,t,r,e,u){for(var o=-1,i=t.length,f=!u;++o<i;)if(f&&e[o]?r[o]!==n[t[o]]:!(t[o]in n))return!1;for(o=-1;++o<i;){var a=t[o],c=n[a],l=r[o];if(f&&e[o]?a=c!==w||a in n:(a=u?u(c,l,a):w,a===w&&(a=yt(l,c,u,!0))),!a)return!1}return!0}function mt(n,t){var r=-1,e=jr(n)?Ue(n.length):[];return zu(n,function(n,u,o){e[++r]=t(n,u,o)}),e}function wt(n){var t=Ko(n),r=t.length;if(!r)return Ie(!0);if(1==r){var e=t[0],u=n[e];if(Cr(u))return function(n){return null==n?!1:n[e]===u&&(u!==w||e in Fr(n))}}for(var o=Ue(r),i=Ue(r);r--;)u=n[t[r]],o[r]=u,i[r]=Cr(u);return function(n){return null!=n&&dt(Fr(n),t,o,i)}}function bt(n,t){var r=To(n),e=Er(n)&&Cr(t),u=n+"";return n=$r(n),function(o){if(null==o)return!1;var i=u;if(o=Fr(o),!(!r&&e||i in o)){if(o=1==n.length?o:gt(o,It(n,0,-1)),null==o)return!1;i=Pr(n),o=Fr(o)}return o[i]===t?t!==w||i in o:yt(t,o[i],null,!0)}}function xt(n,t,r,e,u){if(!se(n))return n;var o=jr(t)&&(To(t)||ge(t));if(!o){var i=Ko(t);fu.apply(i,Zu(t))}return Kn(i||t,function(f,a){if(i&&(a=f,f=t[a]),h(f)){e||(e=[]),u||(u=[]);n:{for(var c=a,l=e,s=u,p=l.length,_=t[c];p--;)if(l[p]==_){n[c]=s[p];break n}var p=n[c],v=r?r(p,_,c,n,t):w,g=v===w;g&&(v=_,jr(_)&&(To(_)||ge(_))?v=To(p)?p:jr(p)?qn(p):[]:Fo(_)||ae(_)?v=ae(p)?ye(p):Fo(p)?p:{}:g=!1),l.push(_),s.push(v),g?n[c]=xt(v,_,r,l,s):(v===v?v!==p:p===p)&&(n[c]=v)}}else c=n[a],l=r?r(c,f,a,n,t):w,(s=l===w)&&(l=f),!o&&l===w||!s&&(l===l?l===c:c!==c)||(n[a]=l)}),n}function At(n){return function(t){return null==t?w:t[n]}}function jt(n){var t=n+"";return n=$r(n),function(r){return gt(r,n,t)}}function kt(n,t){for(var r=n?t.length:0;r--;){var e=parseFloat(t[r]);if(e!=u&&kr(e)){var u=e;pu.call(n,e,1)}}}function Ot(n,t){return n+uu(Ou()*(t-n+1))}function Et(n,t,r,e,u){return u(n,function(n,u,o){r=e?(e=!1,n):t(r,n,u,o)}),r}function It(n,t,r){var e=-1,u=n.length;for(t=null==t?0:+t||0,0>t&&(t=-t>u?0:u+t),r=r===w||r>u?u:+r||0,0>r&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0,r=Ue(u);++e<u;)r[e]=n[e+t];return r}function Rt(n,t){var r;return zu(n,function(n,e,u){return r=t(n,e,u),!r}),!!r}function Ct(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].c;return n}function Wt(t,r,e){var u=dr(),o=-1;return r=Jn(r,function(n){return u(n)}),t=mt(t,function(n){return{a:Jn(r,function(t){return t(n)}),b:++o,c:n}}),Ct(t,function(t,r){var u;n:{u=-1;for(var o=t.a,i=r.a,f=o.length,a=e.length;++u<f;){var c=n(o[u],i[u]);if(c){u=a>u?c*(e[u]?1:-1):c;break n}}u=t.b-r.b}return u})}function St(n,t){var r=0;return zu(n,function(n,e,u){r+=+t(n,e,u)||0}),r}function Tt(n,t){var e=-1,u=mr(),o=n.length,i=u==r,f=i&&o>=200,a=f?qu():null,c=[];a?(u=Pn,i=!1):(f=!1,a=t?[]:c);n:for(;++e<o;){var l=n[e],s=t?t(l,e,n):l;if(i&&l===l){for(var p=a.length;p--;)if(a[p]===s)continue n;t&&a.push(s),c.push(l)}else 0>u(a,s,0)&&((t||f)&&a.push(s),c.push(l))}return c}function Ut(n,t){for(var r=-1,e=t.length,u=Ue(e);++r<e;)u[r]=n[t[r]];return u}function Nt(n,t,r,e){for(var u=n.length,o=e?u:-1;(e?o--:++o<u)&&t(n[o],o,n););return r?It(n,e?0:o,e?o+1:u):It(n,e?o+1:0,e?u:o)}function Ft(n,t){var r=n;r instanceof Bn&&(r=r.value());for(var e=-1,u=t.length;++e<u;){var r=[r],o=t[e];fu.apply(r,o.args),r=o.func.apply(o.thisArg,r)}return r}function $t(n,t,r){var e=0,u=n?n.length:e;if("number"==typeof t&&t===t&&Wu>=u){for(;u>e;){var o=e+u>>>1,i=n[o];(r?t>=i:t>i)?e=o+1:u=o}return u}return Lt(n,t,Re,r)}function Lt(n,t,r,e){t=r(t);for(var u=0,o=n?n.length:0,i=t!==t,f=t===w;o>u;){var a=uu((u+o)/2),c=r(n[a]),l=c===c;(i?l||e:f?l&&(e||c!==w):e?t>=c:t>c)?u=a+1:o=a}return xu(o,Cu)}function zt(n,t,r){if("function"!=typeof n)return Re;if(t===w)return n;switch(r){case 1:return function(r){return n.call(t,r)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,o){return n.call(t,r,e,u,o)};case 5:return function(r,e,u,o,i){return n.call(t,r,e,u,o,i)}}return function(){return n.apply(t,arguments)}}function Bt(n){return tu.call(n,0)}function Mt(n,t,r){for(var e=r.length,u=-1,o=bu(n.length-e,0),i=-1,f=t.length,a=Ue(o+f);++i<f;)a[i]=t[i];for(;++u<e;)a[r[u]]=n[u];for(;o--;)a[i++]=n[u++];return a}function Dt(n,t,r){for(var e=-1,u=r.length,o=-1,i=bu(n.length-u,0),f=-1,a=t.length,c=Ue(i+a);++o<i;)c[o]=n[o];for(i=o;++f<a;)c[i+f]=t[f];for(;++e<u;)c[i+r[e]]=n[o++];return c}function Pt(n,t){return function(r,e,u){var o=t?t():{};if(e=dr(e,u,3),To(r)){u=-1;for(var i=r.length;++u<i;){var f=r[u];n(o,f,e(f,u,r),r)}}else zu(r,function(t,r,u){n(o,t,e(t,r,u),u)});return o}}function qt(n){return fe(function(t,r){var e=-1,u=null==t?0:r.length,o=u>2&&r[u-2],i=u>2&&r[2],f=u>1&&r[u-1];for("function"==typeof o?(o=zt(o,f,5),u-=2):(o="function"==typeof f?f:null,u-=o?1:0),i&&Or(r[0],r[1],i)&&(o=3>u?null:o,u=1);++e<u;)(i=r[e])&&n(t,i,o);return t})}function Kt(n,t){return function(r,e){var u=r?Yu(r):0;if(!Rr(u))return n(r,e);for(var o=t?u:-1,i=Fr(r);(t?o--:++o<u)&&!1!==e(i[o],o,i););return r}}function Vt(n){return function(t,r,e){var u=Fr(t);e=e(t);for(var o=e.length,i=n?o:-1;n?i--:++i<o;){var f=e[i];if(!1===r(u[f],f,u))break}return t}}function Yt(n,t){function r(){return(this&&this!==Yn&&this instanceof r?e:n).apply(t,arguments)}var e=Gt(n);return r}function Zt(n){return function(t){var r=-1;t=Oe(be(t));for(var e=t.length,u="";++r<e;)u=n(u,t[r],r);return u}}function Gt(n){return function(){var t=Lu(n.prototype),r=n.apply(t,arguments);return se(r)?r:t}}function Jt(n){function t(r,e,u){return u&&Or(r,e,u)&&(e=null),r=hr(r,n,null,null,null,null,null,e),r.placeholder=t.placeholder,r}return t}function Xt(n,t){return function(r,e,u){u&&Or(r,e,u)&&(e=null);var i=dr(),f=null==e;if(i===ut&&f||(f=!1,e=i(e,u,3)),f){if(e=To(r),e||!ve(r))return n(e?r:Nr(r));e=o}return yr(r,e,t)}}function Ht(n,r){return function(e,u,o){return u=dr(u,o,3),To(e)?(u=t(e,u,r),u>-1?e[u]:w):lt(e,u,n)}}function Qt(n){return function(r,e,u){return r&&r.length?(e=dr(e,u,3),t(r,e,n)):-1}}function nr(n){return function(t,r,e){return r=dr(r,e,3),lt(t,r,n,!0)}}function tr(n){return function(){var t=arguments.length;if(!t)return function(){return arguments[0]};for(var r,e=n?t:-1,u=0,o=Ue(t);n?e--:++e<t;){var i=o[u++]=arguments[e];if("function"!=typeof i)throw new Pe(L);var f=r?"":Vu(i);r="wrapper"==f?new zn([]):r}for(e=r?-1:t;++e<t;)i=o[e],f=Vu(i),r=(u="wrapper"==f?Ku(i):null)&&Ir(u[0])&&u[1]==(R|k|E|C)&&!u[4].length&&1==u[9]?r[Vu(u[0])].apply(r,u[3]):1==i.length&&Ir(i)?r[f]():r.thru(i);return function(){var n=arguments;if(r&&1==n.length&&To(n[0]))return r.plant(n[0]).value();for(var e=0,n=o[e].apply(this,n);++e<t;)n=o[e].call(this,n);return n}}}function rr(n,t){return function(r,e,u){return"function"==typeof e&&u===w&&To(r)?n(r,e):t(r,zt(e,u,3))}}function er(n){return function(t,r,e){return("function"!=typeof r||e!==w)&&(r=zt(r,e,3)),n(t,r,me)}}function ur(n){return function(t,r,e){return("function"!=typeof r||e!==w)&&(r=zt(r,e,3)),n(t,r)}}function or(n){return function(t,r,e){var u={};return r=dr(r,e,3),ht(t,function(t,e,o){o=r(t,e,o),e=n?o:e,t=n?t:o,u[e]=t}),u}}function ir(n){return function(t,r,e){return t=u(t),(n?t:"")+lr(t,r,e)+(n?"":t)}}function fr(n){var t=fe(function(r,e){var u=v(e,t.placeholder);return hr(r,n,null,e,u)});return t}function ar(n,t){return function(r,e,u,o){var i=3>arguments.length;return"function"==typeof e&&o===w&&To(r)?n(r,e,u,i):Et(r,dr(e,o,4),u,i,t)}}function cr(n,t,r,e,u,o,i,f,a,c){function l(){for(var b=arguments.length,j=b,k=Ue(b);j--;)k[j]=arguments[j];if(e&&(k=Mt(k,e,u)),o&&(k=Dt(k,o,i)),_||y){var j=l.placeholder,O=v(k,j),b=b-O.length;if(c>b){var R=f?qn(f):null,b=bu(c-b,0),C=_?O:null,O=_?null:O,W=_?k:null,k=_?null:k;return t|=_?E:I,t&=~(_?I:E),g||(t&=~(x|A)),k=[n,t,r,W,C,k,O,R,a,b],R=cr.apply(w,k),Ir(n)&&Gu(R,k),R.placeholder=j,R}}if(j=p?r:this,h&&(n=j[m]),f)for(R=k.length,b=xu(f.length,R),C=qn(k);b--;)O=f[b],k[b]=kr(O,R)?C[O]:w;return s&&a<k.length&&(k.length=a),(this&&this!==Yn&&this instanceof l?d||Gt(n):n).apply(j,k)}var s=t&R,p=t&x,h=t&A,_=t&k,g=t&j,y=t&O,d=!h&&Gt(n),m=n;return l}function lr(n,t,r){return n=n.length,t=+t,t>n&&mu(t)?(t-=n,r=null==r?" ":r+"",je(r,ru(t/r.length)).slice(0,t)):""}function sr(n,t,r,e){function u(){for(var t=-1,f=arguments.length,a=-1,c=e.length,l=Ue(f+c);++a<c;)l[a]=e[a];for(;f--;)l[a++]=arguments[++t];return(this&&this!==Yn&&this instanceof u?i:n).apply(o?r:this,l)}var o=t&x,i=Gt(n);return u}function pr(n){return function(t,r,e,u){var o=dr(e);return o===ut&&null==e?$t(t,r,n):Lt(t,r,o(e,u,1),n)}}function hr(n,t,r,e,u,o,i,f){var a=t&A;if(!a&&"function"!=typeof n)throw new Pe(L);var c=e?e.length:0;if(c||(t&=~(E|I),e=u=null),c-=u?u.length:0,t&I){var l=e,s=u;e=u=null}var p=a?null:Ku(n);return r=[n,t,r,e,u,l,s,o,i,f],p&&(e=r[1],t=p[1],f=e|t,u=t==R&&e==k||t==R&&e==C&&r[7].length<=p[8]||t==(R|C)&&e==k,(R>f||u)&&(t&x&&(r[2]=p[2],f|=e&x?0:j),(e=p[3])&&(u=r[3],r[3]=u?Mt(u,e,p[4]):qn(e),r[4]=u?v(r[3],z):qn(p[4])),(e=p[5])&&(u=r[5],r[5]=u?Dt(u,e,p[6]):qn(e),r[6]=u?v(r[5],z):qn(p[6])),(e=p[7])&&(r[7]=qn(e)),t&R&&(r[8]=null==r[8]?p[8]:xu(r[8],p[8])),null==r[9]&&(r[9]=p[9]),r[0]=p[0],r[1]=f),t=r[1],f=r[9]),r[9]=null==f?a?0:n.length:bu(f-c,0)||0,(p?Pu:Gu)(t==x?Yt(r[0],r[2]):t!=E&&t!=(x|E)||r[4].length?cr.apply(w,r):sr.apply(w,r),r)}function _r(n,t,r,e,u,o,i){var f=-1,a=n.length,c=t.length,l=!0;if(a!=c&&(!u||a>=c))return!1;for(;l&&++f<a;){var s=n[f],p=t[f],l=w;if(e&&(l=u?e(p,s,f):e(s,p,f)),l===w)if(u)for(var h=c;h--&&(p=t[h],!(l=s&&s===p||r(s,p,e,u,o,i))););else l=s&&s===p||r(s,p,e,u,o,i)}return!!l}function vr(n,t,r){switch(r){case D:case P:return+n==+t;case q:return n.name==t.name&&n.message==t.message;case V:return n!=+n?t!=+t:n==+t;case Z:case G:return n==t+""}return!1}function gr(n,t,r,e,u,o,i){var f=Ko(n),a=f.length,c=Ko(t).length;if(a!=c&&!u)return!1;for(var c=u,l=-1;++l<a;){var s=f[l],p=u?s in t:Ge.call(t,s);if(p){var h=n[s],_=t[s],p=w;e&&(p=u?e(_,h,s):e(h,_,s)),p===w&&(p=h&&h===_||r(h,_,e,u,o,i))}if(!p)return!1;c||(c="constructor"==s)}return c||(r=n.constructor,e=t.constructor,!(r!=e&&"constructor"in n&&"constructor"in t)||"function"==typeof r&&r instanceof r&&"function"==typeof e&&e instanceof e)?!0:!1}function yr(n,t,r){var e=r?Iu:Eu,u=e,o=u;return zu(n,function(n,i,f){i=t(n,i,f),((r?u>i:i>u)||i===e&&i===o)&&(u=i,o=n)}),o}function dr(n,t,r){var e=$n.callback||Ee,e=e===Ee?ut:e;return r?e(n,t,r):e}function mr(n,t,e){var u=$n.indexOf||Dr,u=u===Dr?r:u;return n?u(n,t,e):u}function wr(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&Ge.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function br(n){return n=n.constructor,"function"==typeof n&&n instanceof n||(n=Be),new n}function xr(n,t,r){var e=n.constructor;switch(t){case J:return Bt(n);case D:case P:return new e(+n);case X:case H:case Q:case nn:case tn:case rn:case en:case un:case on:return t=n.buffer,new e(r?Bt(t):t,n.byteOffset,n.length);case V:case G:return new e(n);case Z:var u=new e(n.source,kn.exec(n));u.lastIndex=n.lastIndex}return u}function Ar(n,t,r){return null==n||Er(t,n)||(t=$r(t),n=1==t.length?n:gt(n,It(t,0,-1)),t=Pr(t)),t=null==n?n:n[t],null==t?w:t.apply(n,r)}function jr(n){return null!=n&&Rr(Yu(n))}function kr(n,t){return n=+n,t=null==t?Tu:t,n>-1&&0==n%1&&t>n}function Or(n,t,r){if(!se(r))return!1;var e=typeof t;return("number"==e?jr(r)&&kr(t,r.length):"string"==e&&t in r)?(t=r[t],n===n?n===t:t!==t):!1}function Er(n,t){var r=typeof n;return"string"==r&&dn.test(n)||"number"==r?!0:To(n)?!1:!yn.test(n)||null!=t&&n in Fr(t)}function Ir(n){var t=Vu(n);return!!t&&n===$n[t]&&t in Bn.prototype}function Rr(n){return"number"==typeof n&&n>-1&&0==n%1&&Tu>=n}function Cr(n){return n===n&&!se(n)}function Wr(n,t){n=Fr(n);for(var r=-1,e=t.length,u={};++r<e;){var o=t[r];o in n&&(u[o]=n[o])}return u}function Sr(n,t){var r={};return pt(n,function(n,e,u){t(n,e,u)&&(r[e]=n)}),r}function Tr(n){var t;if(!h(n)||Xe.call(n)!=Y||!(Ge.call(n,"constructor")||(t=n.constructor,"function"!=typeof t||t instanceof t)))return!1;var r;return pt(n,function(n,t){r=t}),r===w||Ge.call(n,r)}function Ur(n){for(var t=me(n),r=t.length,e=r&&n.length,u=$n.support,u=e&&Rr(e)&&(To(n)||u.nonEnumArgs&&ae(n)),o=-1,i=[];++o<r;){var f=t[o];(u&&kr(f,e)||Ge.call(n,f))&&i.push(f)}return i}function Nr(n){return null==n?[]:jr(n)?se(n)?n:Be(n):we(n)}function Fr(n){return se(n)?n:Be(n)}function $r(n){if(To(n))return n;var t=[];return u(n).replace(mn,function(n,r,e,u){t.push(e?u.replace(An,"$1"):r||n)}),t}function Lr(n){return n instanceof Bn?n.clone():new zn(n.__wrapped__,n.__chain__,qn(n.__actions__))}function zr(n,t,r){return n&&n.length?((r?Or(n,t,r):null==t)&&(t=1),It(n,0>t?0:t)):[]}function Br(n,t,r){var e=n?n.length:0;return e?((r?Or(n,t,r):null==t)&&(t=1),t=e-(+t||0),It(n,0,0>t?0:t)):[]}function Mr(n){return n?n[0]:w}function Dr(n,t,e){var u=n?n.length:0;if(!u)return-1;if("number"==typeof e)e=0>e?bu(u+e,0):e;else if(e)return e=$t(n,t),n=n[e],(t===t?t===n:n!==n)?e:-1;return r(n,t,e||0)}function Pr(n){var t=n?n.length:0;return t?n[t-1]:w}function qr(n){return zr(n,1)}function Kr(n,t,e,u){if(!n||!n.length)return[];null!=t&&"boolean"!=typeof t&&(u=e,e=Or(n,t,u)?null:t,t=!1);var o=dr();if((o!==ut||null!=e)&&(e=o(e,u,3)),t&&mr()==r){t=e;var i;e=-1,u=n.length;for(var o=-1,f=[];++e<u;){var a=n[e],c=t?t(a,e,n):a;e&&i===c||(i=c,f[++o]=a)}n=f}else n=Tt(n,e);return n}function Vr(n){if(!n||!n.length)return[];var t=-1,r=0;n=Gn(n,function(n){return jr(n)?(r=bu(n.length,r),!0):void 0});for(var e=Ue(r);++t<r;)e[t]=Jn(n,At(t));return e}function Yr(n,t,r){return n&&n.length?(n=Vr(n),null==t?n:(t=zt(t,r,4),Jn(n,function(n){return Xn(n,t,w,!0)}))):[]}function Zr(n,t){var r=-1,e=n?n.length:0,u={};for(!e||t||To(n[0])||(t=[]);++r<e;){var o=n[r];t?u[o]=t[r]:o&&(u[o[0]]=o[1])}return u}function Gr(n){return n=$n(n),n.__chain__=!0,n}function Jr(n,t,r){return t.call(r,n)}function Xr(n,t,r){var e=To(n)?Vn:at;return r&&Or(n,t,r)&&(t=null),("function"!=typeof t||r!==w)&&(t=dr(t,r,3)),e(n,t)}function Hr(n,t,r){var e=To(n)?Gn:ct;return t=dr(t,r,3),e(n,t)}function Qr(n,t,r,e){var u=n?Yu(n):0;return Rr(u)||(n=we(n),u=n.length),u?(r="number"!=typeof r||e&&Or(t,r,e)?0:0>r?bu(u+r,0):r||0,"string"==typeof n||!To(n)&&ve(n)?u>r&&-1<n.indexOf(t,r):-1<mr(n,t,r)):!1}function ne(n,t,r){var e=To(n)?Jn:mt;return t=dr(t,r,3),e(n,t)}function te(n,t,r){return(r?Or(n,t,r):null==t)?(n=Nr(n),t=n.length,t>0?n[Ot(0,t-1)]:w):(n=re(n),n.length=xu(0>t?0:+t||0,n.length),n)}function re(n){n=Nr(n);for(var t=-1,r=n.length,e=Ue(r);++t<r;){var u=Ot(0,t);t!=u&&(e[t]=e[u]),e[u]=n[t]}return e}function ee(n,t,r){var e=To(n)?Hn:Rt;return r&&Or(n,t,r)&&(t=null),("function"!=typeof t||r!==w)&&(t=dr(t,r,3)),e(n,t)}function ue(n,t){var r;if("function"!=typeof t){if("function"!=typeof n)throw new Pe(L);var e=n;n=t,t=e}return function(){return 0<--n&&(r=t.apply(this,arguments)),1>=n&&(t=null),r}}function oe(n,t,r){function e(){var r=t-(wo()-c);0>=r||r>t?(f&&eu(f),r=p,f=s=p=w,r&&(h=wo(),a=n.apply(l,i),s||f||(i=l=null))):s=su(e,r)}function u(){s&&eu(s),f=s=p=w,(v||_!==t)&&(h=wo(),a=n.apply(l,i),s||f||(i=l=null))}function o(){if(i=arguments,c=wo(),l=this,p=v&&(s||!g),!1===_)var r=g&&!s;else{f||g||(h=c);var o=_-(c-h),y=0>=o||o>_;y?(f&&(f=eu(f)),h=c,a=n.apply(l,i)):f||(f=su(u,o))}return y&&s?s=eu(s):s||t===_||(s=su(e,t)),r&&(y=!0,a=n.apply(l,i)),!y||s||f||(i=l=null),a}var i,f,a,c,l,s,p,h=0,_=!1,v=!0;if("function"!=typeof n)throw new Pe(L);if(t=0>t?0:+t||0,!0===r)var g=!0,v=!1;else se(r)&&(g=r.leading,_="maxWait"in r&&bu(+r.maxWait||0,t),v="trailing"in r?r.trailing:v);return o.cancel=function(){s&&eu(s),f&&eu(f),f=s=p=w},o}function ie(n,t){function r(){var e=arguments,u=r.cache,o=t?t.apply(this,e):e[0];return u.has(o)?u.get(o):(e=n.apply(this,e),u.set(o,e),e)}if("function"!=typeof n||t&&"function"!=typeof t)throw new Pe(L);return r.cache=new ie.Cache,r}function fe(n,t){if("function"!=typeof n)throw new Pe(L);return t=bu(t===w?n.length-1:+t||0,0),function(){for(var r=arguments,e=-1,u=bu(r.length-t,0),o=Ue(u);++e<u;)o[e]=r[t+e];switch(t){case 0:return n.call(this,o);case 1:return n.call(this,r[0],o);case 2:return n.call(this,r[0],r[1],o)}for(u=Ue(t+1),e=-1;++e<t;)u[e]=r[e];return u[t]=o,n.apply(this,u)}}function ae(n){return h(n)&&jr(n)&&Xe.call(n)==B}function ce(n){return!!n&&1===n.nodeType&&h(n)&&-1<Xe.call(n).indexOf("Element")}function le(n){return h(n)&&"string"==typeof n.message&&Xe.call(n)==q}function se(n){var t=typeof n;return"function"==t||!!n&&"object"==t}function pe(n){return null==n?!1:Xe.call(n)==K?Qe.test(Ze.call(n)):h(n)&&En.test(n)}function he(n){return"number"==typeof n||h(n)&&Xe.call(n)==V}function _e(n){return h(n)&&Xe.call(n)==Z}function ve(n){return"string"==typeof n||h(n)&&Xe.call(n)==G}function ge(n){return h(n)&&Rr(n.length)&&!!Un[Xe.call(n)]}function ye(n){return et(n,me(n))}function de(n){return vt(n,me(n))}function me(n){if(null==n)return[];se(n)||(n=Be(n));for(var t=n.length,t=t&&Rr(t)&&(To(n)||Fu.nonEnumArgs&&ae(n))&&t||0,r=n.constructor,e=-1,r="function"==typeof r&&r.prototype===n,u=Ue(t),o=t>0;++e<t;)u[e]=e+"";for(var i in n)o&&kr(i,t)||"constructor"==i&&(r||!Ge.call(n,i))||u.push(i);return u}function we(n){return Ut(n,Ko(n))}function be(n){return(n=u(n))&&n.replace(In,c).replace(xn,"")}function xe(n){return(n=u(n))&&bn.test(n)?n.replace(wn,"\\$&"):n}function Ae(n,t,r){return r&&Or(n,t,r)&&(t=0),ku(n,t)}function je(n,t){var r="";if(n=u(n),t=+t,1>t||!n||!mu(t))return r;do t%2&&(r+=n),t=uu(t/2),n+=n;while(t);return r}function ke(n,t,r){var e=n;return(n=u(n))?(r?Or(e,t,r):null==t)?n.slice(g(n),y(n)+1):(t+="",n.slice(i(n,t),f(n,t)+1)):n}function Oe(n,t,r){return r&&Or(n,t,r)&&(t=null),n=u(n),n.match(t||Wn)||[]}function Ee(n,t,r){return r&&Or(n,t,r)&&(t=null),h(n)?Ce(n):ut(n,t)}function Ie(n){return function(){return n}}function Re(n){return n}function Ce(n){return wt(ot(n,!0))}function We(n,t,r){if(null==r){var e=se(t),u=e&&Ko(t);((u=u&&u.length&&vt(t,u))?u.length:e)||(u=!1,r=t,t=n,n=this)}u||(u=vt(t,Ko(t)));var o=!0,e=-1,i=No(n),f=u.length;!1===r?o=!1:se(r)&&"chain"in r&&(o=r.chain);for(;++e<f;){r=u[e];var a=t[r];n[r]=a,i&&(n.prototype[r]=function(t){return function(){var r=this.__chain__;if(o||r){var e=n(this.__wrapped__);return(e.__actions__=qn(this.__actions__)).push({func:t,args:arguments,thisArg:n}),e.__chain__=r,e}return r=[this.value()],fu.apply(r,arguments),t.apply(n,r)}}(a))}return n}function Se(){}function Te(n){return Er(n)?At(n):jt(n)}_=_?Zn.defaults(Yn.Object(),_,Zn.pick(Yn,Tn)):Yn;var Ue=_.Array,Ne=_.Date,Fe=_.Error,$e=_.Function,Le=_.Math,ze=_.Number,Be=_.Object,Me=_.RegExp,De=_.String,Pe=_.TypeError,qe=Ue.prototype,Ke=Be.prototype,Ve=De.prototype,Ye=(Ye=_.window)&&Ye.document,Ze=$e.prototype.toString,Ge=Ke.hasOwnProperty,Je=0,Xe=Ke.toString,He=_._,Qe=Me("^"+xe(Xe).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nu=pe(nu=_.ArrayBuffer)&&nu,tu=pe(tu=nu&&new nu(0).slice)&&tu,ru=Le.ceil,eu=_.clearTimeout,uu=Le.floor,ou=pe(ou=Be.getOwnPropertySymbols)&&ou,iu=pe(iu=Be.getPrototypeOf)&&iu,fu=qe.push,au=pe(au=Be.preventExtensions)&&au,cu=Ke.propertyIsEnumerable,lu=pe(lu=_.Set)&&lu,su=_.setTimeout,pu=qe.splice,hu=pe(hu=_.Uint8Array)&&hu,_u=pe(_u=_.WeakMap)&&_u,vu=function(){try{var n=pe(n=_.Float64Array)&&n,t=new n(new nu(10),0,1)&&n}catch(r){}return t}(),gu=function(){var n=au&&pe(n=Be.assign)&&n;try{if(n){var t=au({1:0});t[0]=1}}catch(r){try{n(t,"xo")}catch(e){}return!t[1]&&n}return!1}(),yu=pe(yu=Ue.isArray)&&yu,du=pe(du=Be.create)&&du,mu=_.isFinite,wu=pe(wu=Be.keys)&&wu,bu=Le.max,xu=Le.min,Au=pe(Au=Ne.now)&&Au,ju=pe(ju=ze.isFinite)&&ju,ku=_.parseInt,Ou=Le.random,Eu=ze.NEGATIVE_INFINITY,Iu=ze.POSITIVE_INFINITY,Ru=Le.pow(2,32)-1,Cu=Ru-1,Wu=Ru>>>1,Su=vu?vu.BYTES_PER_ELEMENT:0,Tu=Le.pow(2,53)-1,Uu=_u&&new _u,Nu={},Fu=$n.support={};!function(n){function t(){this.x=n}var r=arguments,e=[];t.prototype={valueOf:n,y:n};for(var u in new t)e.push(u);Fu.funcDecomp=/\bthis\b/.test(function(){return this}),Fu.funcNames="string"==typeof $e.name;try{Fu.dom=11===Ye.createDocumentFragment().nodeType}catch(o){Fu.dom=!1}try{Fu.nonEnumArgs=!cu.call(r,1)}catch(i){Fu.nonEnumArgs=!0}}(1,0),$n.templateSettings={escape:_n,evaluate:vn,interpolate:gn,variable:"",imports:{_:$n}};var $u=gu||function(n,t){return null==t?n:et(t,Zu(t),et(t,Ko(t),n))},Lu=function(){function n(){}return function(t){if(se(t)){n.prototype=t;var r=new n;n.prototype=null}return r||_.Object()}}(),zu=Kt(ht),Bu=Kt(_t,!0),Mu=Vt(),Du=Vt(!0),Pu=Uu?function(n,t){return Uu.set(n,t),n}:Re;tu||(Bt=nu&&hu?function(n){var t=n.byteLength,r=vu?uu(t/Su):0,e=r*Su,u=new nu(t);if(r){var o=new vu(u,0,r);o.set(new vu(n,0,r))}return t!=e&&(o=new hu(u,e),o.set(new hu(n,e))),u}:Ie(null));var qu=du&&lu?function(n){return new Dn(n)}:Ie(null),Ku=Uu?function(n){return Uu.get(n)}:Se,Vu=function(){return Fu.funcNames?"constant"==Ie.name?At("name"):function(n){for(var t=n.name,r=Nu[t],e=r?r.length:0;e--;){var u=r[e],o=u.func;if(null==o||o==n)return u.name}return t}:Ie("")}(),Yu=At("length"),Zu=ou?function(n){return ou(Fr(n))}:Ie([]),Gu=function(){var n=0,t=0;return function(r,e){var u=wo(),o=U-(u-t);if(t=u,o>0){if(++n>=T)return r}else n=0;return Pu(r,e)}}(),Ju=fe(function(n,t){return jr(n)?ft(n,st(t,!1,!0)):[]}),Xu=Qt(),Hu=Qt(!0),Qu=fe(function(t,r){r=st(r);var e=rt(t,r);return kt(t,r.sort(n)),e}),no=pr(),to=pr(!0),ro=fe(function(n){return Tt(st(n,!1,!0))}),eo=fe(function(n,t){return jr(n)?ft(n,t):[]}),uo=fe(Vr),oo=fe(function(n){var t=n.length,r=n[t-2],e=n[t-1];return t>2&&"function"==typeof r?t-=2:(r=t>1&&"function"==typeof e?(--t,e):w,e=w),n.length=t,Yr(n,r,e)}),io=fe(function(n,t){return rt(n,st(t))}),fo=Pt(function(n,t,r){Ge.call(n,r)?++n[r]:n[r]=1}),ao=Ht(zu),co=Ht(Bu,!0),lo=rr(Kn,zu),so=rr(function(n,t){for(var r=n.length;r--&&!1!==t(n[r],r,n););return n},Bu),po=Pt(function(n,t,r){Ge.call(n,r)?n[r].push(t):n[r]=[t]}),ho=Pt(function(n,t,r){n[r]=t}),_o=fe(function(n,t,r){var e=-1,u="function"==typeof t,o=Er(t),i=jr(n)?Ue(n.length):[];return zu(n,function(n){var f=u?t:o&&null!=n&&n[t];i[++e]=f?f.apply(n,r):Ar(n,t,r)}),i}),vo=Pt(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),go=ar(Xn,zu),yo=ar(function(n,t,r,e){var u=n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r},Bu),mo=fe(function(n,t){if(null==n)return[];var r=t[2];return r&&Or(t[0],t[1],r)&&(t.length=1),Wt(n,st(t),[])}),wo=Au||function(){return(new Ne).getTime()},bo=fe(function(n,t,r){var e=x;if(r.length)var u=v(r,bo.placeholder),e=e|E;return hr(n,e,t,r,u)}),xo=fe(function(n,t){t=t.length?st(t):de(n);for(var r=-1,e=t.length;++r<e;){var u=t[r];n[u]=hr(n[u],x,n)}return n}),Ao=fe(function(n,t,r){var e=x|A;if(r.length)var u=v(r,Ao.placeholder),e=e|E;return hr(t,e,n,r,u)}),jo=Jt(k),ko=Jt(O),Oo=fe(function(n,t){return it(n,1,t)}),Eo=fe(function(n,t,r){return it(n,t,r)}),Io=tr(),Ro=tr(!0),Co=fr(E),Wo=fr(I),So=fe(function(n,t){return hr(n,C,null,null,null,st(t))}),To=yu||function(n){return h(n)&&Rr(n.length)&&Xe.call(n)==M};Fu.dom||(ce=function(n){return!!n&&1===n.nodeType&&h(n)&&!Fo(n)});var Uo=ju||function(n){return"number"==typeof n&&mu(n)},No=e(/x/)||hu&&!e(hu)?function(n){return Xe.call(n)==K}:e,Fo=iu?function(n){if(!n||Xe.call(n)!=Y)return!1;var t=n.valueOf,r=pe(t)&&(r=iu(t))&&iu(r);return r?n==r||iu(n)==r:Tr(n)}:Tr,$o=qt(function(n,t,r){return r?tt(n,t,r):$u(n,t)}),Lo=fe(function(n){var t=n[0];return null==t?t:(n.push(Qn),$o.apply(w,n))}),zo=nr(ht),Bo=nr(_t),Mo=er(Mu),Do=er(Du),Po=ur(ht),qo=ur(_t),Ko=wu?function(n){var t=null!=n&&n.constructor;return"function"==typeof t&&t.prototype===n||"function"!=typeof n&&jr(n)?Ur(n):se(n)?wu(n):[]}:Ur,Vo=or(!0),Yo=or(),Zo=qt(xt),Go=fe(function(n,t){if(null==n)return{};if("function"!=typeof t[0])return t=Jn(st(t),De),Wr(n,ft(me(n),t));var r=zt(t[0],t[1],3);return Sr(n,function(n,t,e){return!r(n,t,e)})}),Jo=fe(function(n,t){return null==n?{}:"function"==typeof t[0]?Sr(n,zt(t[0],t[1],3)):Wr(n,st(t))}),Xo=Zt(function(n,t,r){return t=t.toLowerCase(),n+(r?t.charAt(0).toUpperCase()+t.slice(1):t)}),Ho=Zt(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Qo=ir(),ni=ir(!0);8!=ku(Sn+"08")&&(Ae=function(n,t,r){return(r?Or(n,t,r):null==t)?t=0:t&&(t=+t),n=ke(n),ku(n,t||(On.test(n)?16:10))});var ti=Zt(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),ri=Zt(function(n,t,r){return n+(r?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),ei=fe(function(n,t){try{return n.apply(w,t)}catch(r){return le(r)?r:new Fe(r)}}),ui=fe(function(n,t){return function(r){return Ar(r,n,t)}}),oi=fe(function(n,t){return function(r){return Ar(n,r,t)}}),ii=Xt(function(n){for(var t=-1,r=n.length,e=Eu;++t<r;){var u=n[t];u>e&&(e=u)}return e}),fi=Xt(function(n){for(var t=-1,r=n.length,e=Iu;++t<r;){var u=n[t];e>u&&(e=u)}return e},!0);return $n.prototype=Ln.prototype,zn.prototype=Lu(Ln.prototype),zn.prototype.constructor=zn,Bn.prototype=Lu(Ln.prototype),Bn.prototype.constructor=Bn,Mn.prototype["delete"]=function(n){return this.has(n)&&delete this.__data__[n]},Mn.prototype.get=function(n){return"__proto__"==n?w:this.__data__[n]},Mn.prototype.has=function(n){return"__proto__"!=n&&Ge.call(this.__data__,n)},Mn.prototype.set=function(n,t){return"__proto__"!=n&&(this.__data__[n]=t),this},Dn.prototype.push=function(n){var t=this.data;"string"==typeof n||se(n)?t.set.add(n):t.hash[n]=!0},ie.Cache=Mn,$n.after=function(n,t){if("function"!=typeof t){if("function"!=typeof n)throw new Pe(L);var r=n;n=t,t=r}return n=mu(n=+n)?n:0,function(){return 1>--n?t.apply(this,arguments):void 0}},$n.ary=function(n,t,r){return r&&Or(n,t,r)&&(t=null),t=n&&null==t?n.length:bu(+t||0,0),hr(n,R,null,null,null,null,t)},$n.assign=$o,$n.at=io,$n.before=ue,$n.bind=bo,$n.bindAll=xo,$n.bindKey=Ao,$n.callback=Ee,$n.chain=Gr,$n.chunk=function(n,t,r){t=(r?Or(n,t,r):null==t)?1:bu(+t||1,1),r=0;for(var e=n?n.length:0,u=-1,o=Ue(ru(e/t));e>r;)o[++u]=It(n,r,r+=t);return o},$n.compact=function(n){for(var t=-1,r=n?n.length:0,e=-1,u=[];++t<r;){var o=n[t];o&&(u[++e]=o)}return u},$n.constant=Ie,$n.countBy=fo,$n.create=function(n,t,r){var e=Lu(n);return r&&Or(n,t,r)&&(t=null),t?$u(e,t):e},$n.curry=jo,$n.curryRight=ko,$n.debounce=oe,$n.defaults=Lo,$n.defer=Oo,$n.delay=Eo,$n.difference=Ju,$n.drop=zr,$n.dropRight=Br,$n.dropRightWhile=function(n,t,r){return n&&n.length?Nt(n,dr(t,r,3),!0,!0):[]},$n.dropWhile=function(n,t,r){return n&&n.length?Nt(n,dr(t,r,3),!0):[]},$n.fill=function(n,t,r,e){var u=n?n.length:0;if(!u)return[];for(r&&"number"!=typeof r&&Or(n,t,r)&&(r=0,e=u),u=n.length,r=null==r?0:+r||0,0>r&&(r=-r>u?0:u+r),e=e===w||e>u?u:+e||0,0>e&&(e+=u),u=r>e?0:e>>>0,r>>>=0;u>r;)n[r++]=t;return n},$n.filter=Hr,$n.flatten=function(n,t,r){var e=n?n.length:0;return r&&Or(n,t,r)&&(t=!1),e?st(n,t):[]},$n.flattenDeep=function(n){return n&&n.length?st(n,!0):[]},$n.flow=Io,$n.flowRight=Ro,$n.forEach=lo,$n.forEachRight=so,$n.forIn=Mo,$n.forInRight=Do,$n.forOwn=Po,$n.forOwnRight=qo,$n.functions=de,$n.groupBy=po,$n.indexBy=ho,$n.initial=function(n){return Br(n,1)},$n.intersection=function(){for(var n=[],t=-1,e=arguments.length,u=[],o=mr(),i=o==r,f=[];++t<e;){var a=arguments[t];jr(a)&&(n.push(a),
u.push(i&&120<=a.length?qu(t&&a):null))}if(e=n.length,2>e)return f;var i=n[0],c=-1,l=i?i.length:0,s=u[0];n:for(;++c<l;)if(a=i[c],0>(s?Pn(s,a):o(f,a,0))){for(t=e;--t;){var p=u[t];if(0>(p?Pn(p,a):o(n[t],a,0)))continue n}s&&s.push(a),f.push(a)}return f},$n.invert=function(n,t,r){r&&Or(n,t,r)&&(t=null),r=-1;for(var e=Ko(n),u=e.length,o={};++r<u;){var i=e[r],f=n[i];t?Ge.call(o,f)?o[f].push(i):o[f]=[i]:o[f]=i}return o},$n.invoke=_o,$n.keys=Ko,$n.keysIn=me,$n.map=ne,$n.mapKeys=Vo,$n.mapValues=Yo,$n.matches=Ce,$n.matchesProperty=function(n,t){return bt(n,ot(t,!0))},$n.memoize=ie,$n.merge=Zo,$n.method=ui,$n.methodOf=oi,$n.mixin=We,$n.negate=function(n){if("function"!=typeof n)throw new Pe(L);return function(){return!n.apply(this,arguments)}},$n.omit=Go,$n.once=function(n){return ue(2,n)},$n.pairs=function(n){for(var t=-1,r=Ko(n),e=r.length,u=Ue(e);++t<e;){var o=r[t];u[t]=[o,n[o]]}return u},$n.partial=Co,$n.partialRight=Wo,$n.partition=vo,$n.pick=Jo,$n.pluck=function(n,t){return ne(n,Te(t))},$n.property=Te,$n.propertyOf=function(n){return function(t){return gt(n,$r(t),t+"")}},$n.pull=function(){var n=arguments,t=n[0];if(!t||!t.length)return t;for(var r=0,e=mr(),u=n.length;++r<u;)for(var o=0,i=n[r];-1<(o=e(t,i,o));)pu.call(t,o,1);return t},$n.pullAt=Qu,$n.range=function(n,t,r){r&&Or(n,t,r)&&(t=r=null),n=+n||0,r=null==r?1:+r||0,null==t?(t=n,n=0):t=+t||0;var e=-1;t=bu(ru((t-n)/(r||1)),0);for(var u=Ue(t);++e<t;)u[e]=n,n+=r;return u},$n.rearg=So,$n.reject=function(n,t,r){var e=To(n)?Gn:ct;return t=dr(t,r,3),e(n,function(n,r,e){return!t(n,r,e)})},$n.remove=function(n,t,r){var e=[];if(!n||!n.length)return e;var u=-1,o=[],i=n.length;for(t=dr(t,r,3);++u<i;)r=n[u],t(r,u,n)&&(e.push(r),o.push(u));return kt(n,o),e},$n.rest=qr,$n.restParam=fe,$n.set=function(n,t,r){if(null==n)return n;var e=t+"";t=null!=n[e]||Er(t,n)?[e]:$r(t);for(var e=-1,u=t.length,o=u-1,i=n;null!=i&&++e<u;){var f=t[e];se(i)&&(e==o?i[f]=r:null==i[f]&&(i[f]=kr(t[e+1])?[]:{})),i=i[f]}return n},$n.shuffle=re,$n.slice=function(n,t,r){var e=n?n.length:0;return e?(r&&"number"!=typeof r&&Or(n,t,r)&&(t=0,r=e),It(n,t,r)):[]},$n.sortBy=function(n,t,r){if(null==n)return[];r&&Or(n,t,r)&&(t=null);var e=-1;return t=dr(t,r,3),n=mt(n,function(n,r,u){return{a:t(n,r,u),b:++e,c:n}}),Ct(n,a)},$n.sortByAll=mo,$n.sortByOrder=function(n,t,r,e){return null==n?[]:(e&&Or(t,r,e)&&(r=null),To(t)||(t=null==t?[]:[t]),To(r)||(r=null==r?[]:[r]),Wt(n,t,r))},$n.spread=function(n){if("function"!=typeof n)throw new Pe(L);return function(t){return n.apply(this,t)}},$n.take=function(n,t,r){return n&&n.length?((r?Or(n,t,r):null==t)&&(t=1),It(n,0,0>t?0:t)):[]},$n.takeRight=function(n,t,r){var e=n?n.length:0;return e?((r?Or(n,t,r):null==t)&&(t=1),t=e-(+t||0),It(n,0>t?0:t)):[]},$n.takeRightWhile=function(n,t,r){return n&&n.length?Nt(n,dr(t,r,3),!1,!0):[]},$n.takeWhile=function(n,t,r){return n&&n.length?Nt(n,dr(t,r,3)):[]},$n.tap=function(n,t,r){return t.call(r,n),n},$n.throttle=function(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new Pe(L);return!1===r?e=!1:se(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),Fn.leading=e,Fn.maxWait=+t,Fn.trailing=u,oe(n,t,Fn)},$n.thru=Jr,$n.times=function(n,t,r){if(n=uu(n),1>n||!mu(n))return[];var e=-1,u=Ue(xu(n,Ru));for(t=zt(t,r,1);++e<n;)Ru>e?u[e]=t(e):t(e);return u},$n.toArray=function(n){var t=n?Yu(n):0;return Rr(t)?t?qn(n):[]:we(n)},$n.toPlainObject=ye,$n.transform=function(n,t,r,e){var u=To(n)||ge(n);return t=dr(t,e,4),null==r&&(u||se(n)?(e=n.constructor,r=u?To(n)?new e:[]:Lu(No(e)&&e.prototype)):r={}),(u?Kn:ht)(n,function(n,e,u){return t(r,n,e,u)}),r},$n.union=ro,$n.uniq=Kr,$n.unzip=Vr,$n.unzipWith=Yr,$n.values=we,$n.valuesIn=function(n){return Ut(n,me(n))},$n.where=function(n,t){return Hr(n,wt(t))},$n.without=eo,$n.wrap=function(n,t){return t=null==t?Re:t,hr(t,E,null,[n],[])},$n.xor=function(){for(var n=-1,t=arguments.length;++n<t;){var r=arguments[n];if(jr(r))var e=e?ft(e,r).concat(ft(r,e)):r}return e?Tt(e):[]},$n.zip=uo,$n.zipObject=Zr,$n.zipWith=oo,$n.backflow=Ro,$n.collect=ne,$n.compose=Ro,$n.each=lo,$n.eachRight=so,$n.extend=$o,$n.iteratee=Ee,$n.methods=de,$n.object=Zr,$n.select=Hr,$n.tail=qr,$n.unique=Kr,We($n,$n),$n.add=function(n,t){return(+n||0)+(+t||0)},$n.attempt=ei,$n.camelCase=Xo,$n.capitalize=function(n){return(n=u(n))&&n.charAt(0).toUpperCase()+n.slice(1)},$n.clone=function(n,t,r,e){return t&&"boolean"!=typeof t&&Or(n,t,r)?t=!1:"function"==typeof t&&(e=r,r=t,t=!1),r="function"==typeof r&&zt(r,e,1),ot(n,t,r)},$n.cloneDeep=function(n,t,r){return t="function"==typeof t&&zt(t,r,1),ot(n,!0,t)},$n.deburr=be,$n.endsWith=function(n,t,r){n=u(n),t+="";var e=n.length;return r=r===w?e:xu(0>r?0:+r||0,e),r-=t.length,r>=0&&n.indexOf(t,r)==r},$n.escape=function(n){return(n=u(n))&&hn.test(n)?n.replace(sn,l):n},$n.escapeRegExp=xe,$n.every=Xr,$n.find=ao,$n.findIndex=Xu,$n.findKey=zo,$n.findLast=co,$n.findLastIndex=Hu,$n.findLastKey=Bo,$n.findWhere=function(n,t){return ao(n,wt(t))},$n.first=Mr,$n.get=function(n,t,r){return n=null==n?w:gt(n,$r(t),t+""),n===w?r:n},$n.has=function(n,t){if(null==n)return!1;var r=Ge.call(n,t);return r||Er(t)||(t=$r(t),n=1==t.length?n:gt(n,It(t,0,-1)),t=Pr(t),r=null!=n&&Ge.call(n,t)),r},$n.identity=Re,$n.includes=Qr,$n.indexOf=Dr,$n.inRange=function(n,t,r){return t=+t||0,"undefined"==typeof r?(r=t,t=0):r=+r||0,n>=xu(t,r)&&n<bu(t,r)},$n.isArguments=ae,$n.isArray=To,$n.isBoolean=function(n){return!0===n||!1===n||h(n)&&Xe.call(n)==D},$n.isDate=function(n){return h(n)&&Xe.call(n)==P},$n.isElement=ce,$n.isEmpty=function(n){return null==n?!0:jr(n)&&(To(n)||ve(n)||ae(n)||h(n)&&No(n.splice))?!n.length:!Ko(n).length},$n.isEqual=function(n,t,r,e){return r="function"==typeof r&&zt(r,e,3),!r&&Cr(n)&&Cr(t)?n===t:(e=r?r(n,t):w,e===w?yt(n,t,r):!!e)},$n.isError=le,$n.isFinite=Uo,$n.isFunction=No,$n.isMatch=function(n,t,r,e){var u=Ko(t),o=u.length;if(!o)return!0;if(null==n)return!1;if(r="function"==typeof r&&zt(r,e,3),n=Fr(n),!r&&1==o){var i=u[0];if(e=t[i],Cr(e))return e===n[i]&&(e!==w||i in n)}for(var i=Ue(o),f=Ue(o);o--;)e=i[o]=t[u[o]],f[o]=Cr(e);return dt(n,u,i,f,r)},$n.isNaN=function(n){return he(n)&&n!=+n},$n.isNative=pe,$n.isNull=function(n){return null===n},$n.isNumber=he,$n.isObject=se,$n.isPlainObject=Fo,$n.isRegExp=_e,$n.isString=ve,$n.isTypedArray=ge,$n.isUndefined=function(n){return n===w},$n.kebabCase=Ho,$n.last=Pr,$n.lastIndexOf=function(n,t,r){var e=n?n.length:0;if(!e)return-1;var u=e;if("number"==typeof r)u=(0>r?bu(e+r,0):xu(r||0,e-1))+1;else if(r)return u=$t(n,t,!0)-1,n=n[u],(t===t?t===n:n!==n)?u:-1;if(t!==t)return p(n,u,!0);for(;u--;)if(n[u]===t)return u;return-1},$n.max=ii,$n.min=fi,$n.noConflict=function(){return _._=He,this},$n.noop=Se,$n.now=wo,$n.pad=function(n,t,r){n=u(n),t=+t;var e=n.length;return t>e&&mu(t)?(e=(t-e)/2,t=uu(e),e=ru(e),r=lr("",e,r),r.slice(0,t)+n+r):n},$n.padLeft=Qo,$n.padRight=ni,$n.parseInt=Ae,$n.random=function(n,t,r){r&&Or(n,t,r)&&(t=r=null);var e=null==n,u=null==t;return null==r&&(u&&"boolean"==typeof n?(r=n,n=1):"boolean"==typeof t&&(r=t,u=!0)),e&&u&&(t=1,u=!1),n=+n||0,u?(t=n,n=0):t=+t||0,r||n%1||t%1?(r=Ou(),xu(n+r*(t-n+parseFloat("1e-"+((r+"").length-1))),t)):Ot(n,t)},$n.reduce=go,$n.reduceRight=yo,$n.repeat=je,$n.result=function(n,t,r){var e=null==n?w:n[t];return e===w&&(null==n||Er(t,n)||(t=$r(t),n=1==t.length?n:gt(n,It(t,0,-1)),e=null==n?w:n[Pr(t)]),e=e===w?r:e),No(e)?e.call(n):e},$n.runInContext=m,$n.size=function(n){var t=n?Yu(n):0;return Rr(t)?t:Ko(n).length},$n.snakeCase=ti,$n.some=ee,$n.sortedIndex=no,$n.sortedLastIndex=to,$n.startCase=ri,$n.startsWith=function(n,t,r){return n=u(n),r=null==r?0:xu(0>r?0:+r||0,n.length),n.lastIndexOf(t,r)==r},$n.sum=function(n,t,r){r&&Or(n,t,r)&&(t=null);var e=dr(),u=null==t;if(e===ut&&u||(u=!1,t=e(t,r,3)),u){for(n=To(n)?n:Nr(n),t=n.length,r=0;t--;)r+=+n[t]||0;n=r}else n=St(n,t);return n},$n.template=function(n,t,r){var e=$n.templateSettings;r&&Or(n,t,r)&&(t=r=null),n=u(n),t=tt($u({},r||t),e,nt),r=tt($u({},t.imports),e.imports,nt);var o,i,f=Ko(r),a=Ut(r,f),c=0;r=t.interpolate||Rn;var l="__p+='";r=Me((t.escape||Rn).source+"|"+r.source+"|"+(r===gn?jn:Rn).source+"|"+(t.evaluate||Rn).source+"|$","g");var p="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";if(n.replace(r,function(t,r,e,u,f,a){return e||(e=u),l+=n.slice(c,a).replace(Cn,s),r&&(o=!0,l+="'+__e("+r+")+'"),f&&(i=!0,l+="';"+f+";\n__p+='"),e&&(l+="'+((__t=("+e+"))==null?'':__t)+'"),c=a+t.length,t}),l+="';",(t=t.variable)||(l="with(obj){"+l+"}"),l=(i?l.replace(fn,""):l).replace(an,"$1").replace(cn,"$1;"),l="function("+(t||"obj")+"){"+(t?"":"obj||(obj={});")+"var __t,__p=''"+(o?",__e=_.escape":"")+(i?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+l+"return __p}",t=ei(function(){return $e(f,p+"return "+l).apply(w,a)}),t.source=l,le(t))throw t;return t},$n.trim=ke,$n.trimLeft=function(n,t,r){var e=n;return(n=u(n))?n.slice((r?Or(e,t,r):null==t)?g(n):i(n,t+"")):n},$n.trimRight=function(n,t,r){var e=n;return(n=u(n))?(r?Or(e,t,r):null==t)?n.slice(0,y(n)+1):n.slice(0,f(n,t+"")+1):n},$n.trunc=function(n,t,r){r&&Or(n,t,r)&&(t=null);var e=W;if(r=S,null!=t)if(se(t)){var o="separator"in t?t.separator:o,e="length"in t?+t.length||0:e;r="omission"in t?u(t.omission):r}else e=+t||0;if(n=u(n),e>=n.length)return n;if(e-=r.length,1>e)return r;if(t=n.slice(0,e),null==o)return t+r;if(_e(o)){if(n.slice(e).search(o)){var i,f=n.slice(0,e);for(o.global||(o=Me(o.source,(kn.exec(o)||"")+"g")),o.lastIndex=0;n=o.exec(f);)i=n.index;t=t.slice(0,null==i?e:i)}}else n.indexOf(o,e)!=e&&(o=t.lastIndexOf(o),o>-1&&(t=t.slice(0,o)));return t+r},$n.unescape=function(n){return(n=u(n))&&pn.test(n)?n.replace(ln,d):n},$n.uniqueId=function(n){var t=++Je;return u(n)+t},$n.words=Oe,$n.all=Xr,$n.any=ee,$n.contains=Qr,$n.detect=ao,$n.foldl=go,$n.foldr=yo,$n.head=Mr,$n.include=Qr,$n.inject=go,We($n,function(){var n={};return ht($n,function(t,r){$n.prototype[r]||(n[r]=t)}),n}(),!1),$n.sample=te,$n.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(t){return te(t,n)}):te(this.value())},$n.VERSION=b,Kn("bind bindKey curry curryRight partial partialRight".split(" "),function(n){$n[n].placeholder=$n}),Kn(["dropWhile","filter","map","takeWhile"],function(n,t){var r=t!=$,e=t==N;Bn.prototype[n]=function(n,u){var o=this.__filtered__,i=o&&e?new Bn(this):this.clone();return(i.__iteratees__||(i.__iteratees__=[])).push({done:!1,count:0,index:0,iteratee:dr(n,u,1),limit:-1,type:t}),i.__filtered__=o||r,i}}),Kn(["drop","take"],function(n,t){var r=n+"While";Bn.prototype[n]=function(r){var e=this.__filtered__,u=e&&!t?this.dropWhile():this.clone();return r=null==r?1:bu(uu(r)||0,0),e?t?u.__takeCount__=xu(u.__takeCount__,r):Pr(u.__iteratees__).limit=r:(u.__views__||(u.__views__=[])).push({size:r,type:n+(0>u.__dir__?"Right":"")}),u},Bn.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()},Bn.prototype[n+"RightWhile"]=function(n,t){return this.reverse()[r](n,t).reverse()}}),Kn(["first","last"],function(n,t){var r="take"+(t?"Right":"");Bn.prototype[n]=function(){return this[r](1).value()[0]}}),Kn(["initial","rest"],function(n,t){var r="drop"+(t?"":"Right");Bn.prototype[n]=function(){return this[r](1)}}),Kn(["pluck","where"],function(n,t){var r=t?"filter":"map",e=t?wt:Te;Bn.prototype[n]=function(n){return this[r](e(n))}}),Bn.prototype.compact=function(){return this.filter(Re)},Bn.prototype.reject=function(n,t){return n=dr(n,t,1),this.filter(function(t){return!n(t)})},Bn.prototype.slice=function(n,t){n=null==n?0:+n||0;var r=this;return 0>n?r=this.takeRight(-n):n&&(r=this.drop(n)),t!==w&&(t=+t||0,r=0>t?r.dropRight(-t):r.take(t-n)),r},Bn.prototype.toArray=function(){return this.drop(0)},ht(Bn.prototype,function(n,t){var r=$n[t];if(r){var e=/^(?:filter|map|reject)|While$/.test(t),u=/^(?:first|last)$/.test(t);$n.prototype[t]=function(){function t(n){return n=[n],fu.apply(n,o),r.apply($n,n)}var o=arguments,i=this.__chain__,f=this.__wrapped__,a=!!this.__actions__.length,c=f instanceof Bn,l=o[0],s=c||To(f);return s&&e&&"function"==typeof l&&1!=l.length&&(c=s=!1),c=c&&!a,u&&!i?c?n.call(f):r.call($n,this.value()):s?(f=n.apply(c?f:new Bn(this),o),u||!a&&!f.__actions__||(f.__actions__||(f.__actions__=[])).push({func:Jr,args:[t],thisArg:$n}),new zn(f,i)):this.thru(t)}}}),Kn("concat join pop push replace shift sort splice split unshift".split(" "),function(n){var t=(/^(?:replace|split)$/.test(n)?Ve:qe)[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:join|pop|replace|shift)$/.test(n);$n.prototype[n]=function(){var n=arguments;return e&&!this.__chain__?t.apply(this.value(),n):this[r](function(r){return t.apply(r,n)})}}),ht(Bn.prototype,function(n,t){var r=$n[t];if(r){var e=r.name;(Nu[e]||(Nu[e]=[])).push({name:t,func:r})}}),Nu[cr(null,A).name]=[{name:"wrapper",func:null}],Bn.prototype.clone=function(){var n=this.__actions__,t=this.__iteratees__,r=this.__views__,e=new Bn(this.__wrapped__);return e.__actions__=n?qn(n):null,e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=t?qn(t):null,e.__takeCount__=this.__takeCount__,e.__views__=r?qn(r):null,e},Bn.prototype.reverse=function(){if(this.__filtered__){var n=new Bn(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n},Bn.prototype.value=function(){var n=this.__wrapped__.value();if(!To(n))return Ft(n,this.__actions__);var t,r=this.__dir__,e=0>r;t=n.length;for(var u=this.__views__,o=0,i=-1,f=u?u.length:0;++i<f;){var a=u[i],c=a.size;switch(a.type){case"drop":o+=c;break;case"dropRight":t-=c;break;case"take":t=xu(t,o+c);break;case"takeRight":o=bu(o,t-c)}}t={start:o,end:t},u=t.start,o=t.end,t=o-u,u=e?o:u-1,o=xu(t,this.__takeCount__),f=(i=this.__iteratees__)?i.length:0,a=0,c=[];n:for(;t--&&o>a;){for(var u=u+r,l=-1,s=n[u];++l<f;){var p=i[l],h=p.iteratee,_=p.type;if(_==N){if(p.done&&(e?u>p.index:u<p.index)&&(p.count=0,p.done=!1),p.index=u,!(p.done||(_=p.limit,p.done=_>-1?p.count++>=_:!h(s))))continue n}else if(p=h(s),_==$)s=p;else if(!p){if(_==F)continue n;break n}}c[a++]=s}return c},$n.prototype.chain=function(){return Gr(this)},$n.prototype.commit=function(){return new zn(this.value(),this.__chain__)},$n.prototype.plant=function(n){for(var t,r=this;r instanceof Ln;){var e=Lr(r);t?u.__wrapped__=e:t=e;var u=e,r=r.__wrapped__}return u.__wrapped__=n,t},$n.prototype.reverse=function(){var n=this.__wrapped__;return n instanceof Bn?(this.__actions__.length&&(n=new Bn(this)),new zn(n.reverse(),this.__chain__)):this.thru(function(n){return n.reverse()})},$n.prototype.toString=function(){return this.value()+""},$n.prototype.run=$n.prototype.toJSON=$n.prototype.valueOf=$n.prototype.value=function(){return Ft(this.__wrapped__,this.__actions__)},$n.prototype.collect=$n.prototype.map,$n.prototype.head=$n.prototype.first,$n.prototype.select=$n.prototype.filter,$n.prototype.tail=$n.prototype.rest,$n}var w,b="3.8.0",x=1,A=2,j=4,k=8,O=16,E=32,I=64,R=128,C=256,W=30,S="...",T=150,U=16,N=0,F=1,$=2,L="Expected a function",z="__lodash_placeholder__",B="[object Arguments]",M="[object Array]",D="[object Boolean]",P="[object Date]",q="[object Error]",K="[object Function]",V="[object Number]",Y="[object Object]",Z="[object RegExp]",G="[object String]",J="[object ArrayBuffer]",X="[object Float32Array]",H="[object Float64Array]",Q="[object Int8Array]",nn="[object Int16Array]",tn="[object Int32Array]",rn="[object Uint8Array]",en="[object Uint8ClampedArray]",un="[object Uint16Array]",on="[object Uint32Array]",fn=/\b__p\+='';/g,an=/\b(__p\+=)''\+/g,cn=/(__e\(.*?\)|\b__t\))\+'';/g,ln=/&(?:amp|lt|gt|quot|#39|#96);/g,sn=/[&<>"'`]/g,pn=RegExp(ln.source),hn=RegExp(sn.source),_n=/<%-([\s\S]+?)%>/g,vn=/<%([\s\S]+?)%>/g,gn=/<%=([\s\S]+?)%>/g,yn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,dn=/^\w*$/,mn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,wn=/[.*+?^${}()|[\]\/\\]/g,bn=RegExp(wn.source),xn=/[\u0300-\u036f\ufe20-\ufe23]/g,An=/\\(\\)?/g,jn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,kn=/\w*$/,On=/^0[xX]/,En=/^\[object .+?Constructor\]$/,In=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Rn=/($^)/,Cn=/['\n\r\u2028\u2029\\]/g,Wn=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),Sn="   \f\ufeff\n\r\u2028\u2029",Tn="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout document isFinite parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap window".split(" "),Un={};Un[X]=Un[H]=Un[Q]=Un[nn]=Un[tn]=Un[rn]=Un[en]=Un[un]=Un[on]=!0,Un[B]=Un[M]=Un[J]=Un[D]=Un[P]=Un[q]=Un[K]=Un["[object Map]"]=Un[V]=Un[Y]=Un[Z]=Un["[object Set]"]=Un[G]=Un["[object WeakMap]"]=!1;var Nn={};Nn[B]=Nn[M]=Nn[J]=Nn[D]=Nn[P]=Nn[X]=Nn[H]=Nn[Q]=Nn[nn]=Nn[tn]=Nn[V]=Nn[Y]=Nn[Z]=Nn[G]=Nn[rn]=Nn[en]=Nn[un]=Nn[on]=!0,Nn[q]=Nn[K]=Nn["[object Map]"]=Nn["[object Set]"]=Nn["[object WeakMap]"]=!1;var Fn={leading:!1,maxWait:0,trailing:!1},$n={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Ln={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},zn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Bn={"function":!0,object:!0},Mn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Dn=Bn[typeof exports]&&exports&&!exports.nodeType&&exports,Pn=Bn[typeof module]&&module&&!module.nodeType&&module,qn=Bn[typeof self]&&self&&self.Object&&self,Kn=Bn[typeof window]&&window&&window.Object&&window,Vn=Pn&&Pn.exports===Dn&&Dn,Yn=Dn&&Pn&&"object"==typeof global&&global&&global.Object&&global||Kn!==(this&&this.window)&&Kn||qn||this,Zn=m();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Yn._=Zn,define(function(){return Zn})):Dn&&Pn?Vn?(Pn.exports=Zn)._=Zn:Dn._=Zn:Yn._=Zn}).call(this);
window.Chart = (function(CHART) {
  var _Bar, _Column, _Pie;
  /**
   * [_Bar description]
   * @param  {[type]} setting [description]
   * @return {[type]}         [description]
   */
  _Bar = function(setting) {
    this.setting = _.defaults({
      view: 'barH',
      width: 24,
      radius: 0,
      label: '#value#',
      border: false,
      yAxis: { template: '#label#', lines: false },
      lines: false
    }, setting);
    this.draw = function(data, type) {
       type = type || 'json';
      var chart = new CHART(this.setting);
      chart.parse(data, type);
    };
    return this;
  };
  /**
   * [_Column description]
   * @param  {[type]} setting [description]
   * @param  {[type]} series  [description]
   * @return {[type]}         [description]
   */
  _Column = function(setting, series) {
    this.series = series || [];
    this.setting = _.defaults({
      view: 'bar',
      label: function(o) { return o.value; },
      width: 24,
      radius: 0,
      border: false,
      xAxis: {
        template: '#label#',
        lines: false
      },
      yAxis: {
        start: 0,
        step: 100,
        end: 750,
        lines: false
      }
    }, setting);
    this.draw = function(data, type) {
      type = type || 'json';
      var chart = new CHART(this.setting);
      _.each(this.series, function(serie) {
        this.addSeries(serie);
      }, chart);
      chart.parse(data, type);
    };
    return this;
  };
  /**
   * [_Pie description]
   * @param  {[type]} setting [description]
   * @return {[type]}         [description]
   */
  _Pie = function(setting) {
    this.setting = _.defaults({
      view: 'pie3D',
      color: '#color#',
      label: function(o) {
        var template = this.$view.getAttribute('data-template') || [
          '<b><%=label%></b>', '<span><%=percentage%> (<%=value%>)</span>'
        ].join('<br>');
        return _.template(template)({
          label: o.label,
          value: o.value,
          percentage: Math.round(o.value / this.sum('#value#') * 100) + '%'
        });
      },
      labelOffset: 48
    }, setting);
    this.draw = function(data, type) {
      type = type || 'json';
      var chart = new CHART(this.setting);
      chart.parse(data, type);
    };
    return this;
  };
  return {
    Bar: _Bar,
    Column: _Column,
    Pie: _Pie
  };
})(dhtmlXChart);